{"version":3,"sources":["webpack:///../react-dnd/lib/index.js","webpack:///./src/theme.ts","webpack:///./src/components/pagebody.tsx","webpack:///./src/components/sidebar.tsx","webpack:///./src/constants.ts","webpack:///./src/components/navbar.tsx","webpack:///./src/components/header.tsx","webpack:///./src/components/layout.tsx","webpack:///../react-dnd-html5-backend/lib/index.js","webpack:///../dnd-core/lib/actions/dragDrop.js","webpack:///../dnd-core/lib/actions/registry.js","webpack:///../react-dnd/lib/utils/checkDecoratorArguments.js","webpack:///../react-dnd-html5-backend/lib/NativeTypes.js","webpack:///../react-dnd/lib/DragDropContext.js","webpack:///../react-dnd-html5-backend/lib/BrowserDetector.js","webpack:///../dnd-core/lib/interfaces.js","webpack:///../dnd-core/lib/utils/matchesType.js","webpack:///../dnd-core/lib/utils/equality.js","webpack:///../dnd-core/lib/utils/dirtiness.js","webpack:///../react-dnd/lib/decorateHandler.js","webpack:///../react-dnd/lib/wrapConnectorHooks.js","webpack:///../react-dnd/lib/utils/isValidType.js","webpack:///../react-dnd-html5-backend/lib/HTML5Backend.js","webpack:///../react-dnd-html5-backend/lib/EnterLeaveCounter.js","webpack:///../react-dnd-html5-backend/lib/OffsetUtils.js","webpack:///../react-dnd-html5-backend/lib/MonotonicInterpolant.js","webpack:///../react-dnd-html5-backend/lib/NativeDragSources.js","webpack:///../react-dnd-html5-backend/lib/getEmptyImage.js","webpack:///../dnd-core/lib/index.js","webpack:///../dnd-core/lib/factories.js","webpack:///../dnd-core/lib/DragDropManagerImpl.js","webpack:///../dnd-core/lib/reducers/index.js","webpack:///../dnd-core/lib/reducers/dragOffset.js","webpack:///../dnd-core/lib/reducers/dragOperation.js","webpack:///../dnd-core/lib/reducers/refCount.js","webpack:///../dnd-core/lib/reducers/dirtyHandlerIds.js","webpack:///../dnd-core/lib/reducers/stateId.js","webpack:///../dnd-core/lib/DragDropMonitorImpl.js","webpack:///../dnd-core/lib/utils/coords.js","webpack:///../dnd-core/lib/HandlerRegistryImpl.js","webpack:///../dnd-core/lib/utils/getNextUniqueId.js","webpack:///../dnd-core/lib/contracts.js","webpack:///../react-dnd/lib/DragLayer.js","webpack:///../react-dnd/lib/DragSource.js","webpack:///../react-dnd/lib/utils/disposables/index.js","webpack:///../react-dnd/lib/utils/disposables/Disposable.js","webpack:///../react-dnd/lib/utils/disposables/SerialDisposable.js","webpack:///../react-dnd/lib/utils/disposables/CompositeDisposable.js","webpack:///../react-dnd/lib/registerSource.js","webpack:///../react-dnd/lib/createSourceFactory.js","webpack:///../react-dnd/lib/createSourceMonitor.js","webpack:///../react-dnd/lib/createSourceConnector.js","webpack:///../react-dnd/lib/utils/cloneWithRef.js","webpack:///../react-dnd/lib/DropTarget.js","webpack:///../react-dnd/lib/registerTarget.js","webpack:///../react-dnd/lib/createTargetFactory.js","webpack:///../react-dnd/lib/createTargetMonitor.js","webpack:///../react-dnd/lib/createTargetConnector.js"],"names":["Object","defineProperty","exports","value","DragDropContext_1","require","DragDropContext","DragDropContextProvider","DragLayer_1","DragLayer","default","DragSource_1","DragSource","DropTarget_1","DropTarget","theme","color","accent","accentRGB","link","header","body","dimensions","navbar","height","content","width","padding","sidebar","screen","tablet","Container","styled","div","withConfig","displayName","componentId","PlainContent","SidebarContent","PageBody","props","hasSidebar","children","Content","react","SideBar","_ref","groups","location","sidebar_Container","map","_ref2","index","title","pages","Group","key","GroupTitle","keys","_ref3","pageLocation","isSelected","arrow","className","Link","SelectedSidebarItem","SidebarItem","href","target","renderLink","h4","a","APIPages","OVERVIEW","TUTORIAL","TESTING","FAQ","TROUBLESHOOTING","DRAG_SOURCE","DROP_TARGET","DRAG_LAYER","DRAG_DROP_CONTEXT","DRAG_DROP_CONTEXT_PROVIDER","DRAG_SOURCE_CONNECTOR","DROP_TARGET_CONNECTOR","DRAG_SOURCE_MONITOR","DROP_TARGET_MONITOR","DRAG_LAYER_MONITOR","HTML5_BACKEND","TEST_BACKEND","ExamplePages","CHESSBOARD_TUTORIAL_APP","DUSTBIN_SINGLE_TARGET","DUSTBIN_IFRAME","DUSTBIN_FC","DUSTBIN_COPY_OR_MOVE","DUSTBIN_MULTIPLE_TARGETS","DUSTBIN_STRESS_TEST","DRAG_AROUND_NAIVE","DRAG_AROUND_CUSTOM_DRAG_LAYER","NESTING_DRAG_SOURCES","NESTING_DROP_TARGETS","SORTABLE_SIMPLE","SORTABLE_CANCEL_ON_DROP_OUTSIDE","SORTABLE_STRESS_TEST","CUSTOMIZE_HANDLES_AND_PREVIEWS","CUSTOMIZE_DROP_EFFECTS","OTHER_NATIVE_FILES","NavBar","navbar_Container","ContentContainer","LogoContainer","LogoTitle","LogoDescription","navbar_Link","join","p","Header","header_Container","SidebarContainer","ChildrenContainer","Layout","sitepath","pathname","sidebarItems","startsWith","hideSidebar","Helmet_default","meta","name","lang","react_dnd_lib","backend","HTML5Backend","layout_ContentContainer","pagebody","HTML5Backend_1","getEmptyImage_1","getEmptyImage","NativeTypes","manager","__assign","this","assign","t","s","i","n","arguments","length","prototype","hasOwnProperty","call","apply","matchesType_1","invariant","isObject","BEGIN_DRAG","PUBLISH_DRAG_SOURCE","HOVER","DROP","END_DRAG","beginDrag","sourceIds","_a","_b","publishSource","clientOffset","getSourceClientOffset","monitor","getMonitor","registry","getRegistry","isDragging","_i","sourceIds_1","getSource","sourceId","canDragSource","sourceClientOffset","item","pinSource","itemType","getSourceType","type","payload","isSourcePublic","publishDragSource","hover","targetIdsArg","Array","isArray","targetIds","slice","didDrop","targetId","lastIndexOf","getTarget","draggedItemType","getItemType","targetType","getTargetType","splice","targetIds_1","drop","options","getTargetIds","filter","canDropOnTarget","reverse","forEach","dropResult","getDropResult","action","dispatch","endDrag","getSourceId","unpinSource","ADD_SOURCE","ADD_TARGET","REMOVE_SOURCE","REMOVE_TARGET","addSource","addTarget","removeSource","removeTarget","functionName","signature","args","FILE","URL","TEXT","extendStatics","__extends","d","b","setPrototypeOf","__proto__","__","constructor","create","React","dnd_core_1","checkDecoratorArguments_1","hoistStatics","isClassComponent","createChildContext","context","dragDropManager","createDragDropManager","Consumer","createContext","undefined","Provider","contextValue","createElement","backendFactory","backendContext","childContext","DecoratedComponent","Decorated","DragDropContextContainer","_super","_this","ref","createRef","getDecoratedComponentInstance","current","getManager","render","Component","memoize","isFirefox","test","navigator","userAgent","isSafari","Boolean","window","safari","HandlerRole","some","strictEquality","areCoordsEqual","offsetA","offsetB","x","y","areArraysEqual","isEqual","intersection","NONE","ALL","areDirty","dirtyIds","handlerIds","disposables_1","shallowEqual","createHandler","createMonitor","createConnector","registerHandler","containerDisplayName","getType","collect","arePropsEqual","DragDropContainer","isCurrentlyMounted","handleChange","bind","disposable","SerialDisposable","receiveProps","dispose","getHandlerId","handlerId","handler","shouldComponentUpdate","nextProps","nextState","state","componentDidMount","currentType","componentDidUpdate","prevProps","componentWillUnmount","receiveType","handlerMonitor","handlerConnector","unregister","receiveHandlerId","unsubscribe","subscribeToStateChange","setDisposable","CompositeDisposable","Disposable","getCurrentState","setState","hooks","receiveDragDropManager","getBackend","react_1","cloneWithRef_1","wrapHookToRecognizeElement","hook","elementOrNode","isValidElement","element","Error","throwIfCompositeComponentElement","node","wrappedHooks","wrappedHook","isValidType","allowArray","every","EnterLeaveCounter_1","BrowserDetector_1","OffsetUtils_1","NativeDragSources_1","defaults","sourcePreviewNodes","Map","sourcePreviewNodeOptions","sourceNodes","sourceNodeOptions","dragStartSourceIds","dropTargetIds","dragEnterTargetIds","currentNativeSource","currentNativeHandle","currentDragSourceNode","altKeyPressed","mouseMoveTimeoutTimer","asyncEndDragFrameId","dragOverTargetIds","getNodeClientOffset","get","endDragNativeItem","isDraggingNativeItem","actions","isNodeInDocument","document","contains","endDragIfSourceWasRemovedFromDOM","clearCurrentDragSourceNode","handleTopDragStartCapture","handleTopDragStart","e","getEventClientOffset","dataTransfer","nativeType","matchNativeItemType","setDragImage","sourceNode","dragPreview","getCurrentSourcePreviewNodeOptions","anchorPoint","anchorX","anchorY","offsetPoint","offsetX","offsetY","dragPreviewOffset","getDragPreviewOffset","setData","err","setCurrentDragSourceNode","captureDraggingState","setTimeout","beginDragNativeItem","types","hasAttribute","preventDefault","handleTopDragEndCapture","handleTopDragEnterCapture","enterLeaveCounter","enter","handleTopDragEnter","altKey","dropEffect","getCurrentDropEffect","handleTopDragOverCapture","handleTopDragOver","handleTopDragLeaveCapture","leave","handleTopDropCapture","mutateItemByReadingDataTransfer","reset","handleTopDrop","handleSelectStart","dragDrop","tagName","isContentEditable","getActions","getContext","enumerable","configurable","setup","__isReactDndBackendSetUp","addEventListeners","teardown","removeEventListeners","cancelAnimationFrame","connectDragPreview","set","delete","connectDragSource","handleDragStart","setAttribute","addEventListener","removeEventListener","connectDropTarget","handleDragEnter","handleDragOver","handleDrop","getCurrentSourceNodeOptions","SourceType","createNativeDragSource","clearTimeout","unshift","union","without","EnterLeaveCounter","entered","enteringNode","previousLength","leavingNode","MonotonicInterpolant_1","ELEMENT_NODE","el","nodeType","parentElement","getBoundingClientRect","top","left","clientX","clientY","isImage","nodeName","documentElement","dragPreviewNodeOffsetFromClient","offsetFromDragPreview","sourceWidth","offsetWidth","sourceHeight","offsetHeight","dragPreviewWidth","dragPreviewHeight","devicePixelRatio","getDragPreviewSize","isManualOffsetY","interpolate","MonotonicInterpolant","xs","ys","indexes","push","sort","dx","dy","dys","dxs","ms","c1s","m2","mNext","dxNext","common","m","c2s","c3s","c1","invDx","mid","low","high","xHere","Math","floor","diff","max","diffSq","getDataFromDataTransfer","typesToTry","defaultValue","result","reduce","resultSoFar","typeToTry","getData","nativeTypesConfig","exposeProperty","matchesTypes","files","split","NativeDragSource","console","warn","canDrag","handle","dataTransferTypes","nativeItemType","indexOf","emptyImage","Image","src","__export","DragDropManagerImpl_1","redux_1","reducers_1","dragDrop_1","DragDropMonitorImpl_1","HandlerRegistryImpl_1","DragDropManagerImpl","createBackend","isSetUp","store","createStore","subscribe","handleRefCountChange","boundActions","actionCreator","shouldSetUp","getState","refCount","dragOffset_1","dragOperation_1","refCount_1","dirtyHandlerIds_1","stateId_1","dirtyHandlerIds","prevTargetIds","dragOffset","dragOperation","stateId","equality_1","initialState","initialSourceClientOffset","initialClientOffset","registry_1","dirtiness_1","xor","_c","prevInnermostTargetId","innermostTargetId","coords_1","DragDropMonitorImpl","listener","prevStateId","currentStateId","subscribeToOffsetChange","previousState","source","canDrop","isDraggingSource","isOverTarget","shallow","getItem","getInitialClientOffset","getInitialSourceClientOffset","getClientOffset","getDifferenceFromInitialOffset","add","subtract","getNextUniqueId_1","interfaces_1","contracts_1","asap","parseRoleFromHandlerId","SOURCE","TARGET","mapContainsValue","searchValue","entries","isDone","next","done","HandlerRegistryImpl","dragSources","dropTargets","pinnedSourceId","pinnedSource","validateType","validateSourceContract","addHandler","validateTargetContract","containsHandler","includePinned","isSourceId","isTargetId","role","id","toString","getNextHandlerId","nextUniqueId","isPlainObject","DragLayerContainer","unsubscribeFromOffsetChange","unsubscribeFromStateChange","decorateHandler_1","registerSource_1","createSourceFactory_1","createSourceMonitor_1","createSourceConnector_1","isValidType_1","spec","createSource","isFunction","noop","isDisposed","isDisposable","_fixup","empty","getDisposable","shouldDispose","old","disposables","remove","idx","clear","len","currentDisposables","ALLOWED_SPEC_METHODS","REQUIRED_SPEC_METHODS","SourceImpl","globalMonitor","isCallingCanDrag","isCallingIsDragging","SourceMonitor","internalMonitor","wrapConnectorHooks_1","currentHandlerId","currentDragSourceOptions","disconnectCurrentDragSource","currentDragPreviewNode","currentDragPreviewOptions","disconnectCurrentDragPreview","reconnectDragSource","reconnectDragPreview","dragSource","newRef","previousRef","cloneElement","registerTarget_1","createTargetFactory_1","createTargetMonitor_1","createTargetConnector_1","createTarget","TargetImpl","receiveMonitor","isCallingCanDrop","TargetMonitor","isOver","currentDropTargetNode","currentDropTargetOptions","disconnectCurrentDropTarget","reconnectDropTarget","dropTarget"],"mappings":"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","file":"1-6ff44b64d880b0ad2336.js","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar DragDropContext_1 = require(\"./DragDropContext\");\nexports.DragDropContext = DragDropContext_1.DragDropContext;\nexports.DragDropContextProvider = DragDropContext_1.DragDropContextProvider;\nvar DragLayer_1 = require(\"./DragLayer\");\nexports.DragLayer = DragLayer_1.default;\nvar DragSource_1 = require(\"./DragSource\");\nexports.DragSource = DragSource_1.default;\nvar DropTarget_1 = require(\"./DropTarget\");\nexports.DropTarget = DropTarget_1.default;\n","export default {\n\tcolor: {\n\t\taccent: '#0074D9',\n\t\taccentRGB: [0, 116, 217],\n\t\tlink: '#0074D9',\n\t\theader: '#212325',\n\t\tbody: '#626466',\n\t},\n\tdimensions: {\n\t\tnavbar: {\n\t\t\theight: '5em',\n\t\t},\n\t\tcontent: {\n\t\t\twidth: '52em',\n\t\t\tpadding: '1.5em',\n\t\t},\n\t\tsidebar: {\n\t\t\twidth: '12em',\n\t\t},\n\t\tscreen: {\n\t\t\ttablet: '680px',\n\t\t},\n\t},\n}\n","import * as React from 'react'\nimport styled from 'styled-components'\nimport theme from '../theme'\n\nexport interface PageBodyProps {\n\thasSidebar: boolean\n}\nconst PageBody: React.SFC<PageBodyProps> = props => {\n\tconst { hasSidebar, children } = props\n\tconst Content = hasSidebar ? SidebarContent : PlainContent\n\treturn (\n\t\t<Container>\n\t\t\t<Content>{children}</Content>\n\t\t</Container>\n\t)\n}\n\nconst Container = styled.div`\n\tpadding: 6em 1.5em;\n\tbackground-color: #fff;\n\tflex: 1;\n\tmax-width: 100%;\n`\n\nconst PlainContent = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n\tmargin: 0 auto;\n\tmax-width: ${theme.dimensions.content.width};\n\n\t@media only screen and (min-width: ${theme.dimensions.screen.tablet}) {\n\t\tflex-direction: row;\n\t}\n`\n\nconst SidebarContent = styled.div`\n\t@media only screen and (min-width: ${theme.dimensions.screen.tablet}) {\n\t\tmargin-left: 15em;\n\t}\n`\nexport default PageBody\n","import * as React from 'react'\nimport styled from 'styled-components'\nimport { Page, PageGroup } from '../constants'\nimport theme from '../theme'\n\nexport interface SideBarProps {\n\tgroups: PageGroup[]\n\tlocation: string\n}\n\nconst SideBar: React.SFC<SideBarProps> = ({ groups, location }) => {\n\tfunction renderGroup({ title, pages }: PageGroup, index: number) {\n\t\treturn (\n\t\t\t<Group key={index}>\n\t\t\t\t<GroupTitle>{title}</GroupTitle>\n\t\t\t\t{Object.keys(pages).map(key => renderLink(pages[key], key))}\n\t\t\t</Group>\n\t\t)\n\t}\n\n\tfunction renderLink({ title, location: pageLocation }: Page, key: string) {\n\t\tconst isSelected = pageLocation === location\n\t\tconst arrow = <span className=\"arrowBullet\" />\n\t\tconst Link = isSelected ? SelectedSidebarItem : SidebarItem\n\n\t\treturn (\n\t\t\t<Link key={key} href={pageLocation} target=\"_self\">\n\t\t\t\t<span>{title}</span>\n\t\t\t\t{arrow}\n\t\t\t</Link>\n\t\t)\n\t}\n\n\treturn <Container>{groups.map(renderGroup)}</Container>\n}\nexport default SideBar\n\nconst Container = styled.div`\n\tflex-shrink: 0;\n\tflex-grow: 1;\n\n\t@media only screen and (min-width: ${theme.dimensions.screen.tablet}) {\n\t\tposition: fixed;\n\t\tleft: ${theme.dimensions.content.padding};\n\t\ttop: ${theme.dimensions.navbar.height};\n\t\tbottom: 0;\n\t\twidth: ${theme.dimensions.sidebar.width};\n\t\toverflow: scroll;\n\t\tpadding: 3em 0;\n\t}\n`\n\nconst Group = styled.div`\n\tmargin-bottom: ${theme.dimensions.content.padding};\n`\n\nconst GroupTitle = styled.h4`\n\tborder-bottom: 2px solid fade(${theme.color.accent}, 10%);\n\tpadding-bottom: 0.5em;\n\tmargin: 0 0 0.5em 0;\n`\n\nconst SidebarItem = styled.a`\n\tdisplay: block;\n\tcolor: ${theme.color.body};\n`\n\nconst SelectedSidebarItem = styled(SidebarItem)`\n\tcolor: ${theme.color.accent};\n\tposition: relative;\n\n\t&:after {\n\t\tcontent: '';\n\t\tposition: absolute;\n\t\tleft: -0.5em;\n\t\ttop: 0;\n\t\tbottom: 0;\n\t}\n`\n","export interface Page {\n\tlocation: string\n\ttitle: string\n}\n\nexport interface PageGroup {\n\ttitle: string\n\tpages: { [key: string]: Page }\n}\n\nexport const Pages: { [key: string]: Page } = {\n\tHOME: {\n\t\tlocation: 'index.html',\n\t\ttitle: 'Home',\n\t},\n}\n\nexport const APIPages: PageGroup[] = [\n\t{\n\t\ttitle: 'Quick Start',\n\t\tpages: {\n\t\t\tOVERVIEW: {\n\t\t\t\tlocation: '/docs/overview',\n\t\t\t\ttitle: 'Overview',\n\t\t\t},\n\t\t\tTUTORIAL: {\n\t\t\t\tlocation: '/docs/tutorial',\n\t\t\t\ttitle: 'Tutorial',\n\t\t\t},\n\t\t\tTESTING: {\n\t\t\t\tlocation: '/docs/testing',\n\t\t\t\ttitle: 'Testing',\n\t\t\t},\n\t\t\tFAQ: {\n\t\t\t\tlocation: '/docs/faq',\n\t\t\t\ttitle: 'FAQ',\n\t\t\t},\n\t\t\tTROUBLESHOOTING: {\n\t\t\t\tlocation: '/docs/troubleshooting',\n\t\t\t\ttitle: 'Troubleshooting',\n\t\t\t},\n\t\t},\n\t},\n\t{\n\t\ttitle: 'Top-Level API',\n\t\tpages: {\n\t\t\tDRAG_SOURCE: {\n\t\t\t\tlocation: '/docs/api/drag-source',\n\t\t\t\ttitle: 'DragSource',\n\t\t\t},\n\t\t\tDROP_TARGET: {\n\t\t\t\tlocation: '/docs/api/drop-target',\n\t\t\t\ttitle: 'DropTarget',\n\t\t\t},\n\t\t\tDRAG_LAYER: {\n\t\t\t\tlocation: '/docs/api/drag-layer',\n\t\t\t\ttitle: 'DragLayer',\n\t\t\t},\n\t\t\tDRAG_DROP_CONTEXT: {\n\t\t\t\tlocation: '/docs/api/drag-drop-context',\n\t\t\t\ttitle: 'DragDropContext',\n\t\t\t},\n\t\t\tDRAG_DROP_CONTEXT_PROVIDER: {\n\t\t\t\tlocation: '/docs/api/drag-drop-context-provider',\n\t\t\t\ttitle: 'DragDropContextProvider',\n\t\t\t},\n\t\t},\n\t},\n\t{\n\t\ttitle: 'Connecting to DOM',\n\t\tpages: {\n\t\t\tDRAG_SOURCE_CONNECTOR: {\n\t\t\t\tlocation: '/docs/api/drag-source-connector',\n\t\t\t\ttitle: 'DragSourceConnector',\n\t\t\t},\n\t\t\tDROP_TARGET_CONNECTOR: {\n\t\t\t\tlocation: '/docs/api/drop-target-connector',\n\t\t\t\ttitle: 'DropTargetConnector',\n\t\t\t},\n\t\t},\n\t},\n\t{\n\t\ttitle: 'Monitoring State',\n\t\tpages: {\n\t\t\tDRAG_SOURCE_MONITOR: {\n\t\t\t\tlocation: '/docs/api/drag-source-monitor',\n\t\t\t\ttitle: 'DragSourceMonitor',\n\t\t\t},\n\t\t\tDROP_TARGET_MONITOR: {\n\t\t\t\tlocation: '/docs/api/drop-target-monitor',\n\t\t\t\ttitle: 'DropTargetMonitor',\n\t\t\t},\n\t\t\tDRAG_LAYER_MONITOR: {\n\t\t\t\tlocation: '/docs/api/drag-layer-monitor',\n\t\t\t\ttitle: 'DragLayerMonitor',\n\t\t\t},\n\t\t},\n\t},\n\t{\n\t\ttitle: 'Backends',\n\t\tpages: {\n\t\t\tHTML5_BACKEND: {\n\t\t\t\tlocation: '/docs/backends/html5',\n\t\t\t\ttitle: 'HTML5',\n\t\t\t},\n\t\t\tTEST_BACKEND: {\n\t\t\t\tlocation: '/docs/backends/test',\n\t\t\t\ttitle: 'Test',\n\t\t\t},\n\t\t},\n\t},\n]\n\nexport const ExamplePages: PageGroup[] = [\n\t{\n\t\ttitle: 'Chessboard',\n\t\tpages: {\n\t\t\tCHESSBOARD_TUTORIAL_APP: {\n\t\t\t\tlocation: '/examples/tutorial',\n\t\t\t\ttitle: 'Tutorial App',\n\t\t\t},\n\t\t},\n\t},\n\t{\n\t\ttitle: 'Dustbin',\n\t\tpages: {\n\t\t\tDUSTBIN_SINGLE_TARGET: {\n\t\t\t\tlocation: '/examples/dustbin/single-target',\n\t\t\t\ttitle: 'Single Target',\n\t\t\t},\n\t\t\tDUSTBIN_IFRAME: {\n\t\t\t\tlocation: '/examples/dustbin/iframe',\n\t\t\t\ttitle: 'Within an iframe',\n\t\t\t},\n\t\t\tDUSTBIN_FC: {\n\t\t\t\tlocation: '/examples/dustbin/using-fcs',\n\t\t\t\ttitle: 'Using FCs',\n\t\t\t},\n\t\t\tDUSTBIN_COPY_OR_MOVE: {\n\t\t\t\tlocation: '/examples/dustbin/copy-or-move',\n\t\t\t\ttitle: 'Copy or Move',\n\t\t\t},\n\t\t\tDUSTBIN_MULTIPLE_TARGETS: {\n\t\t\t\tlocation: '/examples/dustbin/multiple-targets',\n\t\t\t\ttitle: 'Multiple Targets',\n\t\t\t},\n\t\t\tDUSTBIN_STRESS_TEST: {\n\t\t\t\tlocation: '/examples/dustbin/stress-test',\n\t\t\t\ttitle: 'Stress Test',\n\t\t\t},\n\t\t},\n\t},\n\t{\n\t\ttitle: 'Drag Around',\n\t\tpages: {\n\t\t\tDRAG_AROUND_NAIVE: {\n\t\t\t\tlocation: '/examples/drag-around/naive',\n\t\t\t\ttitle: 'Naive',\n\t\t\t},\n\t\t\tDRAG_AROUND_CUSTOM_DRAG_LAYER: {\n\t\t\t\tlocation: '/examples/drag-around/custom-drag-layer',\n\t\t\t\ttitle: 'Custom Drag Layer',\n\t\t\t},\n\t\t},\n\t},\n\t{\n\t\ttitle: 'Nesting',\n\t\tpages: {\n\t\t\tNESTING_DRAG_SOURCES: {\n\t\t\t\tlocation: '/examples/nesting/drag-sources',\n\t\t\t\ttitle: 'Drag Sources',\n\t\t\t},\n\t\t\tNESTING_DROP_TARGETS: {\n\t\t\t\tlocation: '/examples/nesting/drop-targets',\n\t\t\t\ttitle: 'Drop Targets',\n\t\t\t},\n\t\t},\n\t},\n\t{\n\t\ttitle: 'Sortable',\n\t\tpages: {\n\t\t\tSORTABLE_SIMPLE: {\n\t\t\t\tlocation: '/examples/sortable/simple',\n\t\t\t\ttitle: 'Simple',\n\t\t\t},\n\t\t\tSORTABLE_CANCEL_ON_DROP_OUTSIDE: {\n\t\t\t\tlocation: '/examples/sortable/cancel-on-drop-outside',\n\t\t\t\ttitle: 'Cancel on Drop Outside',\n\t\t\t},\n\t\t\tSORTABLE_STRESS_TEST: {\n\t\t\t\tlocation: '/examples/sortable/stress-test',\n\t\t\t\ttitle: 'Stress Test',\n\t\t\t},\n\t\t},\n\t},\n\t{\n\t\ttitle: 'Customize',\n\t\tpages: {\n\t\t\tCUSTOMIZE_HANDLES_AND_PREVIEWS: {\n\t\t\t\tlocation: '/examples/customize/handles-and-previews',\n\t\t\t\ttitle: 'Handles and Previews',\n\t\t\t},\n\t\t\tCUSTOMIZE_DROP_EFFECTS: {\n\t\t\t\tlocation: '/examples/customize/drop-effects',\n\t\t\t\ttitle: 'Drop Effects',\n\t\t\t},\n\t\t},\n\t},\n\t{\n\t\ttitle: 'Other Cases',\n\t\tpages: {\n\t\t\tOTHER_NATIVE_FILES: {\n\t\t\t\tlocation: '/examples/other/native-files',\n\t\t\t\ttitle: 'Native Files',\n\t\t\t},\n\t\t},\n\t},\n]\n\nexport const DOCS_DEFAULT: Page = APIPages[0].pages.OVERVIEW\nexport const EXAMPLES_DEFAULT: Page = ExamplePages[0].pages\n\t.CHESSBOARD_TUTORIAL_APP as Page\n","// tslint:disable jsx-no-lambda\nimport * as React from 'react'\nimport styled from 'styled-components'\nimport theme from '../theme'\n\nconst NavBar: React.SFC = () => (\n\t<Container>\n\t\t<ContentContainer>\n\t\t\t<LogoContainer>\n\t\t\t\t<LogoTitle href=\"/\" target=\"_self\">\n\t\t\t\t\tReact <i>DnD</i>\n\t\t\t\t</LogoTitle>\n\t\t\t\t<LogoDescription>Drag and Drop for React</LogoDescription>\n\t\t\t</LogoContainer>\n\t\t\t<div>\n\t\t\t\t<Link href={'/docs/overview'} target=\"_self\">\n\t\t\t\t\tDocs\n\t\t\t\t</Link>\n\t\t\t\t<Link href={'/examples'} target=\"_self\">\n\t\t\t\t\tExamples\n\t\t\t\t</Link>\n\t\t\t\t<Link href={'https://github.com/react-dnd/react-dnd/'}>GitHub</Link>\n\t\t\t</div>\n\t\t</ContentContainer>\n\t</Container>\n)\nexport default NavBar\n\nconst Container = styled.div`\n\tz-index: 3;\n\ttop: 0;\n\tposition: fixed;\n\twidth: 100%;\n\tpadding: 0 ${theme.dimensions.content.padding};\n\tbackground-color: rgb(255, 255, 255, 0.9);\n`\n\nconst ContentContainer = styled.div`\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tmargin: 0 auto;\n\theight: ${theme.dimensions.navbar.height};\n\tpadding: 0.75em 0;\n\tborder-bottom: 2px solid rgb(${theme.color.accentRGB.join(',')}, 0.1);\n`\n\nconst Link = styled.a`\n\tcolor: ${theme.color.accent};\n\tmargin-left: 1em;\n`\n\nconst LogoTitle = styled.a`\n\tfont-weight: bold;\n\tfont-size: 1.125em;\n`\n\nconst LogoDescription = styled.p`\n\tmargin: 0;\n\tfont-size: 0.875em;\n`\n\nconst LogoContainer = styled.div`\n\tcolor: ${theme.color.accent};\n\tline-height: 1.4;\n`\n","import * as React from 'react'\nimport styled from 'styled-components'\nimport NavBar from './navbar'\n\nconst Header: React.SFC = () => (\n\t<Container>\n\t\t<NavBar />\n\t</Container>\n)\n\nexport default Header\n\nconst Container = styled.header`\n\toverflow: hidden;\n`\n","// tslint:disable jsx-no-lambda\nimport * as React from 'react'\nimport Helmet from 'react-helmet'\nimport styled from 'styled-components'\nimport HTML5Backend from 'react-dnd-html5-backend'\nimport { DragDropContextProvider } from 'react-dnd'\nimport PageBody from './pagebody'\nimport Sidebar from './sidebar'\nimport { PageGroup } from '../constants'\nimport { APIPages, ExamplePages } from '../constants'\nimport Header from './header'\nimport './layout.css'\nrequire('prismjs/themes/prism.css')\n// tslint:disable-next-line\n\nexport interface LayoutProps {\n\tlocation?: { pathname: string }\n\thideSidebar?: boolean\n}\n\nconst Layout: React.SFC<LayoutProps> = props => {\n\tconst { children, location } = props\n\tconst sitepath = location && location.pathname\n\tconst isExampleUrl = (sitepath || '').startsWith('/examples')\n\tconst sidebarItems: PageGroup[] = isExampleUrl ? ExamplePages : APIPages\n\tconst hideSidebar = props.hideSidebar || sitepath === '/about'\n\treturn (\n\t\t<>\n\t\t\t<Helmet\n\t\t\t\ttitle=\"React DnD\"\n\t\t\t\tmeta={[\n\t\t\t\t\t{ name: 'description', content: 'Sample' },\n\t\t\t\t\t{ name: 'keywords', content: 'sample, something' },\n\t\t\t\t]}\n\t\t\t>\n\t\t\t\t<html lang=\"en\" />\n\t\t\t</Helmet>\n\t\t\t<Header />\n\t\t\t<DragDropContextProvider backend={HTML5Backend}>\n\t\t\t\t<ContentContainer>\n\t\t\t\t\t<PageBody hasSidebar={sitepath !== '/about'}>\n\t\t\t\t\t\t{hideSidebar ? null : (\n\t\t\t\t\t\t\t<SidebarContainer>\n\t\t\t\t\t\t\t\t<Sidebar\n\t\t\t\t\t\t\t\t\tgroups={sidebarItems}\n\t\t\t\t\t\t\t\t\tlocation={location && location.pathname}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</SidebarContainer>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<ChildrenContainer>{children}</ChildrenContainer>\n\t\t\t\t\t</PageBody>\n\t\t\t\t</ContentContainer>\n\t\t\t</DragDropContextProvider>\n\t\t</>\n\t)\n}\n\nconst SidebarContainer = styled.div`\n\tflex: 1;\n`\nconst ChildrenContainer = styled.div`\n\tflex: 4;\n`\n\nconst ContentContainer = styled.div`\n\tmargin: 0;\n\theight: 100%;\n\twidth: 100%;\n\tmax-height: 100%;\n\tmax-width: 100%;\n\tdisplay: flex;\n\tflex-direction: row;\n`\n\nexport default Layout\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar HTML5Backend_1 = require(\"./HTML5Backend\");\nvar getEmptyImage_1 = require(\"./getEmptyImage\");\nexports.getEmptyImage = getEmptyImage_1.default;\nvar NativeTypes = require(\"./NativeTypes\");\nexports.NativeTypes = NativeTypes;\nfunction createHTML5Backend(manager) {\n    return new HTML5Backend_1.default(manager);\n}\nexports.default = createHTML5Backend;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar matchesType_1 = require(\"../utils/matchesType\");\nvar invariant = require('invariant');\nvar isObject = require('lodash/isObject');\nexports.BEGIN_DRAG = 'dnd-core/BEGIN_DRAG';\nexports.PUBLISH_DRAG_SOURCE = 'dnd-core/PUBLISH_DRAG_SOURCE';\nexports.HOVER = 'dnd-core/HOVER';\nexports.DROP = 'dnd-core/DROP';\nexports.END_DRAG = 'dnd-core/END_DRAG';\nfunction createDragDropActions(manager) {\n    return {\n        beginDrag: function (sourceIds, _a) {\n            if (sourceIds === void 0) { sourceIds = []; }\n            var _b = _a === void 0 ? {\n                publishSource: true,\n            } : _a, publishSource = _b.publishSource, clientOffset = _b.clientOffset, getSourceClientOffset = _b.getSourceClientOffset;\n            var monitor = manager.getMonitor();\n            var registry = manager.getRegistry();\n            invariant(!monitor.isDragging(), 'Cannot call beginDrag while dragging.');\n            for (var _i = 0, sourceIds_1 = sourceIds; _i < sourceIds_1.length; _i++) {\n                var s = sourceIds_1[_i];\n                invariant(registry.getSource(s), 'Expected sourceIds to be registered.');\n            }\n            var sourceId = null;\n            for (var i = sourceIds.length - 1; i >= 0; i--) {\n                if (monitor.canDragSource(sourceIds[i])) {\n                    sourceId = sourceIds[i];\n                    break;\n                }\n            }\n            if (sourceId === null) {\n                return;\n            }\n            var sourceClientOffset = null;\n            if (clientOffset) {\n                invariant(typeof getSourceClientOffset === 'function', 'When clientOffset is provided, getSourceClientOffset must be a function.');\n                sourceClientOffset = getSourceClientOffset(sourceId);\n            }\n            var source = registry.getSource(sourceId);\n            var item = source.beginDrag(monitor, sourceId);\n            invariant(isObject(item), 'Item must be an object.');\n            registry.pinSource(sourceId);\n            var itemType = registry.getSourceType(sourceId);\n            return {\n                type: exports.BEGIN_DRAG,\n                payload: {\n                    itemType: itemType,\n                    item: item,\n                    sourceId: sourceId,\n                    clientOffset: clientOffset || null,\n                    sourceClientOffset: sourceClientOffset || null,\n                    isSourcePublic: !!publishSource,\n                },\n            };\n        },\n        publishDragSource: function () {\n            var monitor = manager.getMonitor();\n            if (!monitor.isDragging()) {\n                return;\n            }\n            return { type: exports.PUBLISH_DRAG_SOURCE };\n        },\n        hover: function (targetIdsArg, _a) {\n            var clientOffset = (_a === void 0 ? {} : _a).clientOffset;\n            invariant(Array.isArray(targetIdsArg), 'Expected targetIds to be an array.');\n            var targetIds = targetIdsArg.slice(0);\n            var monitor = manager.getMonitor();\n            var registry = manager.getRegistry();\n            invariant(monitor.isDragging(), 'Cannot call hover while not dragging.');\n            invariant(!monitor.didDrop(), 'Cannot call hover after drop.');\n            // First check invariants.\n            for (var i = 0; i < targetIds.length; i++) {\n                var targetId = targetIds[i];\n                invariant(targetIds.lastIndexOf(targetId) === i, 'Expected targetIds to be unique in the passed array.');\n                var target = registry.getTarget(targetId);\n                invariant(target, 'Expected targetIds to be registered.');\n            }\n            var draggedItemType = monitor.getItemType();\n            // Remove those targetIds that don't match the targetType.  This\n            // fixes shallow isOver which would only be non-shallow because of\n            // non-matching targets.\n            for (var i = targetIds.length - 1; i >= 0; i--) {\n                var targetId = targetIds[i];\n                var targetType = registry.getTargetType(targetId);\n                if (!matchesType_1.default(targetType, draggedItemType)) {\n                    targetIds.splice(i, 1);\n                }\n            }\n            // Finally call hover on all matching targets.\n            for (var _i = 0, targetIds_1 = targetIds; _i < targetIds_1.length; _i++) {\n                var targetId = targetIds_1[_i];\n                var target = registry.getTarget(targetId);\n                target.hover(monitor, targetId);\n            }\n            return {\n                type: exports.HOVER,\n                payload: {\n                    targetIds: targetIds,\n                    clientOffset: clientOffset || null,\n                },\n            };\n        },\n        drop: function (options) {\n            if (options === void 0) { options = {}; }\n            var monitor = manager.getMonitor();\n            var registry = manager.getRegistry();\n            invariant(monitor.isDragging(), 'Cannot call drop while not dragging.');\n            invariant(!monitor.didDrop(), 'Cannot call drop twice during one drag operation.');\n            var targetIds = monitor\n                .getTargetIds()\n                .filter(monitor.canDropOnTarget, monitor);\n            targetIds.reverse();\n            // Multiple actions are dispatched here, which is why this doesn't return an action\n            targetIds.forEach(function (targetId, index) {\n                var target = registry.getTarget(targetId);\n                var dropResult = target.drop(monitor, targetId);\n                invariant(typeof dropResult === 'undefined' || isObject(dropResult), 'Drop result must either be an object or undefined.');\n                if (typeof dropResult === 'undefined') {\n                    dropResult = index === 0 ? {} : monitor.getDropResult();\n                }\n                var action = {\n                    type: exports.DROP,\n                    payload: {\n                        dropResult: __assign({}, options, dropResult),\n                    },\n                };\n                manager.dispatch(action);\n            });\n        },\n        endDrag: function () {\n            var monitor = manager.getMonitor();\n            var registry = manager.getRegistry();\n            invariant(monitor.isDragging(), 'Cannot call endDrag while not dragging.');\n            var sourceId = monitor.getSourceId();\n            var source = registry.getSource(sourceId, true);\n            source.endDrag(monitor, sourceId);\n            registry.unpinSource();\n            return { type: exports.END_DRAG };\n        },\n    };\n}\nexports.default = createDragDropActions;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ADD_SOURCE = 'dnd-core/ADD_SOURCE';\nexports.ADD_TARGET = 'dnd-core/ADD_TARGET';\nexports.REMOVE_SOURCE = 'dnd-core/REMOVE_SOURCE';\nexports.REMOVE_TARGET = 'dnd-core/REMOVE_TARGET';\nfunction addSource(sourceId) {\n    return {\n        type: exports.ADD_SOURCE,\n        payload: {\n            sourceId: sourceId,\n        },\n    };\n}\nexports.addSource = addSource;\nfunction addTarget(targetId) {\n    return {\n        type: exports.ADD_TARGET,\n        payload: {\n            targetId: targetId,\n        },\n    };\n}\nexports.addTarget = addTarget;\nfunction removeSource(sourceId) {\n    return {\n        type: exports.REMOVE_SOURCE,\n        payload: {\n            sourceId: sourceId,\n        },\n    };\n}\nexports.removeSource = removeSource;\nfunction removeTarget(targetId) {\n    return {\n        type: exports.REMOVE_TARGET,\n        payload: {\n            targetId: targetId,\n        },\n    };\n}\nexports.removeTarget = removeTarget;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction checkDecoratorArguments(functionName, signature) {\n    var args = [];\n    for (var _i = 2; _i < arguments.length; _i++) {\n        args[_i - 2] = arguments[_i];\n    }\n    if (process.env.NODE_ENV !== 'production') {\n        for (var _a = 0, args_1 = args; _a < args_1.length; _a++) {\n            var arg = args_1[_a];\n            if (arg && arg.prototype && arg.prototype.render) {\n                // tslint:disable-next-line no-console\n                console.error('You seem to be applying the arguments in the wrong order. ' +\n                    (\"It should be \" + functionName + \"(\" + signature + \")(Component), not the other way around. \") +\n                    'Read more: http://react-dnd.github.io/react-dnd/docs-troubleshooting.html#you-seem-to-be-applying-the-arguments-in-the-wrong-order');\n                return;\n            }\n        }\n    }\n}\nexports.default = checkDecoratorArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FILE = '__NATIVE_FILE__';\nexports.URL = '__NATIVE_URL__';\nexports.TEXT = '__NATIVE_TEXT__';\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _a;\nvar React = require(\"react\");\nvar dnd_core_1 = require(\"dnd-core\");\nvar checkDecoratorArguments_1 = require(\"./utils/checkDecoratorArguments\");\nvar invariant = require('invariant');\nvar hoistStatics = require('hoist-non-react-statics');\nvar isClassComponent = require('recompose/isClassComponent').default;\n/**\n * Create the React Context\n */\nexports.Consumer = (_a = React.createContext({ dragDropManager: undefined }), _a.Consumer), exports.Provider = _a.Provider;\n/**\n * Creates the context object we're providing\n * @param backend\n * @param context\n */\nfunction createChildContext(backend, context) {\n    return {\n        dragDropManager: dnd_core_1.createDragDropManager(backend, context),\n    };\n}\nexports.createChildContext = createChildContext;\n/**\n * A React component that provides the React-DnD context\n */\nexports.DragDropContextProvider = function (_a) {\n    var backend = _a.backend, context = _a.context, children = _a.children;\n    var contextValue = createChildContext(backend, context);\n    return React.createElement(exports.Provider, { value: contextValue }, children);\n};\n/**\n * Wrap the root component of your application with DragDropContext decorator to set up React DnD.\n * This lets you specify the backend, and sets up the shared DnD state behind the scenes.\n * @param backendFactory The DnD backend factory\n * @param backendContext The backend context\n */\nfunction DragDropContext(backendFactory, backendContext) {\n    checkDecoratorArguments_1.default('DragDropContext', 'backend', backendFactory);\n    var childContext = createChildContext(backendFactory, backendContext);\n    return function decorateContext(DecoratedComponent) {\n        var Decorated = DecoratedComponent;\n        var displayName = Decorated.displayName || Decorated.name || 'Component';\n        var DragDropContextContainer = /** @class */ (function (_super) {\n            __extends(DragDropContextContainer, _super);\n            function DragDropContextContainer() {\n                var _this = _super !== null && _super.apply(this, arguments) || this;\n                _this.ref = React.createRef();\n                return _this;\n            }\n            DragDropContextContainer.prototype.getDecoratedComponentInstance = function () {\n                invariant(this.ref.current, 'In order to access an instance of the decorated component it can not be a stateless component.');\n                return this.ref.current;\n            };\n            DragDropContextContainer.prototype.getManager = function () {\n                return childContext.dragDropManager;\n            };\n            DragDropContextContainer.prototype.render = function () {\n                return (React.createElement(exports.Provider, { value: childContext },\n                    React.createElement(Decorated, __assign({}, this.props, { ref: isClassComponent(Decorated) ? this.ref : undefined }))));\n            };\n            DragDropContextContainer.DecoratedComponent = DecoratedComponent;\n            DragDropContextContainer.displayName = \"DragDropContext(\" + displayName + \")\";\n            return DragDropContextContainer;\n        }(React.Component));\n        return hoistStatics(DragDropContextContainer, DecoratedComponent);\n    };\n}\nexports.DragDropContext = DragDropContext;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar memoize = require('lodash/memoize');\nexports.isFirefox = memoize(function () {\n    return /firefox/i.test(navigator.userAgent);\n});\nexports.isSafari = memoize(function () { return Boolean(window.safari); });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar HandlerRole;\n(function (HandlerRole) {\n    HandlerRole[\"SOURCE\"] = \"SOURCE\";\n    HandlerRole[\"TARGET\"] = \"TARGET\";\n})(HandlerRole = exports.HandlerRole || (exports.HandlerRole = {}));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction matchesType(targetType, draggedItemType) {\n    if (draggedItemType === null) {\n        return targetType === null;\n    }\n    return Array.isArray(targetType)\n        ? targetType.some(function (t) { return t === draggedItemType; })\n        : targetType === draggedItemType;\n}\nexports.default = matchesType;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.strictEquality = function (a, b) { return a === b; };\n/**\n * Determine if two cartesian coordinate offsets are equal\n * @param offsetA\n * @param offsetB\n */\nfunction areCoordsEqual(offsetA, offsetB) {\n    if (!offsetA && !offsetB) {\n        return true;\n    }\n    else if (!offsetA || !offsetB) {\n        return false;\n    }\n    else {\n        return offsetA.x === offsetB.x && offsetA.y === offsetB.y;\n    }\n}\nexports.areCoordsEqual = areCoordsEqual;\n/**\n * Determines if two arrays of items are equal\n * @param a The first array of items\n * @param b The second array of items\n */\nfunction areArraysEqual(a, b, isEqual) {\n    if (isEqual === void 0) { isEqual = exports.strictEquality; }\n    if (a.length !== b.length) {\n        return false;\n    }\n    for (var i = 0; i < a.length; ++i) {\n        if (!isEqual(a[i], b[i])) {\n            return false;\n        }\n    }\n    return true;\n}\nexports.areArraysEqual = areArraysEqual;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar intersection = require('lodash/intersection');\nexports.NONE = [];\nexports.ALL = [];\n/**\n * Determines if the given handler IDs are dirty or not.\n *\n * @param dirtyIds The set of dirty handler ids\n * @param handlerIds The set of handler ids to check\n */\nfunction areDirty(dirtyIds, handlerIds) {\n    if (dirtyIds === exports.NONE) {\n        return false;\n    }\n    if (dirtyIds === exports.ALL || typeof handlerIds === 'undefined') {\n        return true;\n    }\n    return intersection(handlerIds, dirtyIds).length > 0;\n}\nexports.areDirty = areDirty;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar DragDropContext_1 = require(\"./DragDropContext\");\nvar disposables_1 = require(\"./utils/disposables\");\nvar isClassComponent = require('recompose/isClassComponent').default;\nvar isPlainObject = require('lodash/isPlainObject');\nvar invariant = require('invariant');\nvar hoistStatics = require('hoist-non-react-statics');\nvar shallowEqual = require('shallowequal');\nfunction decorateHandler(_a) {\n    var DecoratedComponent = _a.DecoratedComponent, createHandler = _a.createHandler, createMonitor = _a.createMonitor, createConnector = _a.createConnector, registerHandler = _a.registerHandler, containerDisplayName = _a.containerDisplayName, getType = _a.getType, collect = _a.collect, options = _a.options;\n    var _b = options.arePropsEqual, arePropsEqual = _b === void 0 ? shallowEqual : _b;\n    var Decorated = DecoratedComponent;\n    var displayName = DecoratedComponent.displayName || DecoratedComponent.name || 'Component';\n    var DragDropContainer = /** @class */ (function (_super) {\n        __extends(DragDropContainer, _super);\n        function DragDropContainer(props) {\n            var _this = _super.call(this, props) || this;\n            _this.isCurrentlyMounted = false;\n            _this.handleChange = _this.handleChange.bind(_this);\n            _this.disposable = new disposables_1.SerialDisposable();\n            _this.receiveProps(props);\n            _this.dispose();\n            return _this;\n        }\n        DragDropContainer.prototype.getHandlerId = function () {\n            return this.handlerId;\n        };\n        DragDropContainer.prototype.getDecoratedComponentInstance = function () {\n            if (!this.handler) {\n                return null;\n            }\n            return this.handler.ref.current;\n        };\n        DragDropContainer.prototype.shouldComponentUpdate = function (nextProps, nextState) {\n            return (!arePropsEqual(nextProps, this.props) ||\n                !shallowEqual(nextState, this.state));\n        };\n        DragDropContainer.prototype.componentDidMount = function () {\n            this.isCurrentlyMounted = true;\n            this.disposable = new disposables_1.SerialDisposable();\n            this.currentType = undefined;\n            this.receiveProps(this.props);\n            this.handleChange();\n        };\n        DragDropContainer.prototype.componentDidUpdate = function (prevProps) {\n            if (!arePropsEqual(this.props, prevProps)) {\n                this.receiveProps(this.props);\n                this.handleChange();\n            }\n        };\n        DragDropContainer.prototype.componentWillUnmount = function () {\n            this.dispose();\n            this.isCurrentlyMounted = false;\n        };\n        DragDropContainer.prototype.receiveProps = function (props) {\n            if (!this.handler) {\n                return;\n            }\n            this.handler.receiveProps(props);\n            this.receiveType(getType(props));\n        };\n        DragDropContainer.prototype.receiveType = function (type) {\n            if (!this.handlerMonitor || !this.manager || !this.handlerConnector) {\n                return;\n            }\n            if (type === this.currentType) {\n                return;\n            }\n            this.currentType = type;\n            var _a = registerHandler(type, this.handler, this.manager), handlerId = _a.handlerId, unregister = _a.unregister;\n            this.handlerId = handlerId;\n            this.handlerMonitor.receiveHandlerId(handlerId);\n            this.handlerConnector.receiveHandlerId(handlerId);\n            var globalMonitor = this.manager.getMonitor();\n            var unsubscribe = globalMonitor.subscribeToStateChange(this.handleChange, { handlerIds: [handlerId] });\n            this.disposable.setDisposable(new disposables_1.CompositeDisposable(new disposables_1.Disposable(unsubscribe), new disposables_1.Disposable(unregister)));\n        };\n        DragDropContainer.prototype.handleChange = function () {\n            if (!this.isCurrentlyMounted) {\n                return;\n            }\n            var nextState = this.getCurrentState();\n            if (!shallowEqual(nextState, this.state)) {\n                this.setState(nextState);\n            }\n        };\n        DragDropContainer.prototype.dispose = function () {\n            this.disposable.dispose();\n            if (this.handlerConnector) {\n                this.handlerConnector.receiveHandlerId(null);\n            }\n        };\n        DragDropContainer.prototype.getCurrentState = function () {\n            if (!this.handlerConnector) {\n                return {};\n            }\n            var nextState = collect(this.handlerConnector.hooks, this.handlerMonitor);\n            if (process.env.NODE_ENV !== 'production') {\n                invariant(isPlainObject(nextState), 'Expected `collect` specified as the second argument to ' +\n                    '%s for %s to return a plain object of props to inject. ' +\n                    'Instead, received %s.', containerDisplayName, displayName, nextState);\n            }\n            return nextState;\n        };\n        DragDropContainer.prototype.render = function () {\n            var _this = this;\n            return (React.createElement(DragDropContext_1.Consumer, null, function (_a) {\n                var dragDropManager = _a.dragDropManager;\n                if (dragDropManager === undefined) {\n                    return null;\n                }\n                _this.receiveDragDropManager(dragDropManager);\n                // Let componentDidMount fire to initialize the collected state\n                if (!_this.isCurrentlyMounted) {\n                    return null;\n                }\n                return (React.createElement(Decorated, __assign({}, _this.props, _this.state, { ref: _this.handler && isClassComponent(Decorated)\n                        ? _this.handler.ref\n                        : undefined })));\n            }));\n        };\n        DragDropContainer.prototype.receiveDragDropManager = function (dragDropManager) {\n            if (this.manager !== undefined) {\n                return;\n            }\n            this.manager = dragDropManager;\n            invariant(typeof dragDropManager === 'object', 'Could not find the drag and drop manager in the context of %s. ' +\n                'Make sure to wrap the top-level component of your app with DragDropContext. ' +\n                'Read more: http://react-dnd.github.io/react-dnd/docs-troubleshooting.html#could-not-find-the-drag-and-drop-manager-in-the-context', displayName, displayName);\n            this.handlerMonitor = createMonitor(dragDropManager);\n            this.handlerConnector = createConnector(dragDropManager.getBackend());\n            this.handler = createHandler(this.handlerMonitor);\n        };\n        DragDropContainer.DecoratedComponent = DecoratedComponent;\n        DragDropContainer.displayName = containerDisplayName + \"(\" + displayName + \")\";\n        return DragDropContainer;\n    }(React.Component));\n    return hoistStatics(DragDropContainer, DecoratedComponent);\n}\nexports.default = decorateHandler;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar react_1 = require(\"react\");\nvar cloneWithRef_1 = require(\"./utils/cloneWithRef\");\nfunction throwIfCompositeComponentElement(element) {\n    // Custom components can no longer be wrapped directly in React DnD 2.0\n    // so that we don't need to depend on findDOMNode() from react-dom.\n    if (typeof element.type === 'string') {\n        return;\n    }\n    var displayName = element.type.displayName || element.type.name || 'the component';\n    throw new Error('Only native element nodes can now be passed to React DnD connectors.' +\n        (\"You can either wrap \" + displayName + \" into a <div>, or turn it into a \") +\n        'drag source or a drop target itself.');\n}\nfunction wrapHookToRecognizeElement(hook) {\n    return function (elementOrNode, options) {\n        if (elementOrNode === void 0) { elementOrNode = null; }\n        if (options === void 0) { options = null; }\n        // When passed a node, call the hook straight away.\n        if (!react_1.isValidElement(elementOrNode)) {\n            var node = elementOrNode;\n            hook(node, options);\n            return undefined;\n        }\n        // If passed a ReactElement, clone it and attach this function as a ref.\n        // This helps us achieve a neat API where user doesn't even know that refs\n        // are being used under the hood.\n        var element = elementOrNode;\n        throwIfCompositeComponentElement(element);\n        // When no options are passed, use the hook directly\n        var ref = options ? function (node) { return hook(node, options); } : hook;\n        return cloneWithRef_1.default(element, ref);\n    };\n}\nfunction wrapConnectorHooks(hooks) {\n    var wrappedHooks = {};\n    Object.keys(hooks).forEach(function (key) {\n        var hook = hooks[key];\n        var wrappedHook = wrapHookToRecognizeElement(hook);\n        wrappedHooks[key] = function () { return wrappedHook; };\n    });\n    return wrappedHooks;\n}\nexports.default = wrapConnectorHooks;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction isValidType(type, allowArray) {\n    return (typeof type === 'string' ||\n        typeof type === 'symbol' ||\n        (!!allowArray &&\n            Array.isArray(type) &&\n            type.every(function (t) { return isValidType(t, false); })));\n}\nexports.default = isValidType;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar EnterLeaveCounter_1 = require(\"./EnterLeaveCounter\");\nvar BrowserDetector_1 = require(\"./BrowserDetector\");\nvar OffsetUtils_1 = require(\"./OffsetUtils\");\nvar NativeDragSources_1 = require(\"./NativeDragSources\");\nvar NativeTypes = require(\"./NativeTypes\");\nvar defaults = require('lodash/defaults');\nvar HTML5Backend = /** @class */ (function () {\n    function HTML5Backend(manager) {\n        var _this = this;\n        this.sourcePreviewNodes = new Map();\n        this.sourcePreviewNodeOptions = new Map();\n        this.sourceNodes = new Map();\n        this.sourceNodeOptions = new Map();\n        this.dragStartSourceIds = null;\n        this.dropTargetIds = [];\n        this.dragEnterTargetIds = [];\n        this.currentNativeSource = null;\n        this.currentNativeHandle = null;\n        this.currentDragSourceNode = null;\n        this.altKeyPressed = false;\n        this.mouseMoveTimeoutTimer = null;\n        this.asyncEndDragFrameId = null;\n        this.dragOverTargetIds = null;\n        this.getSourceClientOffset = function (sourceId) {\n            return OffsetUtils_1.getNodeClientOffset(_this.sourceNodes.get(sourceId));\n        };\n        this.endDragNativeItem = function () {\n            if (!_this.isDraggingNativeItem()) {\n                return;\n            }\n            _this.actions.endDrag();\n            _this.registry.removeSource(_this.currentNativeHandle);\n            _this.currentNativeHandle = null;\n            _this.currentNativeSource = null;\n        };\n        this.isNodeInDocument = function (node) {\n            // Check the node either in the main document or in the current context\n            return ((!!document && document.body.contains(node)) ||\n                (!!_this.window && _this.window.document.body.contains(node)));\n        };\n        this.endDragIfSourceWasRemovedFromDOM = function () {\n            var node = _this.currentDragSourceNode;\n            if (_this.isNodeInDocument(node)) {\n                return;\n            }\n            if (_this.clearCurrentDragSourceNode()) {\n                _this.actions.endDrag();\n            }\n        };\n        this.handleTopDragStartCapture = function () {\n            _this.clearCurrentDragSourceNode();\n            _this.dragStartSourceIds = [];\n        };\n        this.handleTopDragStart = function (e) {\n            var dragStartSourceIds = _this.dragStartSourceIds;\n            _this.dragStartSourceIds = null;\n            var clientOffset = OffsetUtils_1.getEventClientOffset(e);\n            // Avoid crashing if we missed a drop event or our previous drag died\n            if (_this.monitor.isDragging()) {\n                _this.actions.endDrag();\n            }\n            // Don't publish the source just yet (see why below)\n            _this.actions.beginDrag(dragStartSourceIds || [], {\n                publishSource: false,\n                getSourceClientOffset: _this.getSourceClientOffset,\n                clientOffset: clientOffset,\n            });\n            var dataTransfer = e.dataTransfer;\n            var nativeType = NativeDragSources_1.matchNativeItemType(dataTransfer);\n            if (_this.monitor.isDragging()) {\n                if (typeof dataTransfer.setDragImage === 'function') {\n                    // Use custom drag image if user specifies it.\n                    // If child drag source refuses drag but parent agrees,\n                    // use parent's node as drag image. Neither works in IE though.\n                    var sourceId = _this.monitor.getSourceId();\n                    var sourceNode = _this.sourceNodes.get(sourceId);\n                    var dragPreview = _this.sourcePreviewNodes.get(sourceId) || sourceNode;\n                    var _a = _this.getCurrentSourcePreviewNodeOptions(), anchorX = _a.anchorX, anchorY = _a.anchorY, offsetX = _a.offsetX, offsetY = _a.offsetY;\n                    var anchorPoint = { anchorX: anchorX, anchorY: anchorY };\n                    var offsetPoint = { offsetX: offsetX, offsetY: offsetY };\n                    var dragPreviewOffset = OffsetUtils_1.getDragPreviewOffset(sourceNode, dragPreview, clientOffset, anchorPoint, offsetPoint);\n                    dataTransfer.setDragImage(dragPreview, dragPreviewOffset.x, dragPreviewOffset.y);\n                }\n                try {\n                    // Firefox won't drag without setting data\n                    dataTransfer.setData('application/json', {});\n                }\n                catch (err) {\n                    // IE doesn't support MIME types in setData\n                }\n                // Store drag source node so we can check whether\n                // it is removed from DOM and trigger endDrag manually.\n                _this.setCurrentDragSourceNode(e.target);\n                // Now we are ready to publish the drag source.. or are we not?\n                var captureDraggingState = _this.getCurrentSourcePreviewNodeOptions().captureDraggingState;\n                if (!captureDraggingState) {\n                    // Usually we want to publish it in the next tick so that browser\n                    // is able to screenshot the current (not yet dragging) state.\n                    //\n                    // It also neatly avoids a situation where render() returns null\n                    // in the same tick for the source element, and browser freaks out.\n                    setTimeout(function () { return _this.actions.publishDragSource(); }, 0);\n                }\n                else {\n                    // In some cases the user may want to override this behavior, e.g.\n                    // to work around IE not supporting custom drag previews.\n                    //\n                    // When using a custom drag layer, the only way to prevent\n                    // the default drag preview from drawing in IE is to screenshot\n                    // the dragging state in which the node itself has zero opacity\n                    // and height. In this case, though, returning null from render()\n                    // will abruptly end the dragging, which is not obvious.\n                    //\n                    // This is the reason such behavior is strictly opt-in.\n                    _this.actions.publishDragSource();\n                }\n            }\n            else if (nativeType) {\n                // A native item (such as URL) dragged from inside the document\n                _this.beginDragNativeItem(nativeType);\n            }\n            else if (!dataTransfer.types &&\n                (!e.target.hasAttribute || !e.target.hasAttribute('draggable'))) {\n                // Looks like a Safari bug: dataTransfer.types is null, but there was no draggable.\n                // Just let it drag. It's a native type (URL or text) and will be picked up in\n                // dragenter handler.\n                return;\n            }\n            else {\n                // If by this time no drag source reacted, tell browser not to drag.\n                e.preventDefault();\n            }\n        };\n        this.handleTopDragEndCapture = function () {\n            if (_this.clearCurrentDragSourceNode()) {\n                // Firefox can dispatch this event in an infinite loop\n                // if dragend handler does something like showing an alert.\n                // Only proceed if we have not handled it already.\n                _this.actions.endDrag();\n            }\n        };\n        this.handleTopDragEnterCapture = function (e) {\n            _this.dragEnterTargetIds = [];\n            var isFirstEnter = _this.enterLeaveCounter.enter(e.target);\n            if (!isFirstEnter || _this.monitor.isDragging()) {\n                return;\n            }\n            var dataTransfer = e.dataTransfer;\n            var nativeType = NativeDragSources_1.matchNativeItemType(dataTransfer);\n            if (nativeType) {\n                // A native item (such as file or URL) dragged from outside the document\n                _this.beginDragNativeItem(nativeType);\n            }\n        };\n        this.handleTopDragEnter = function (e) {\n            var dragEnterTargetIds = _this.dragEnterTargetIds;\n            _this.dragEnterTargetIds = [];\n            if (!_this.monitor.isDragging()) {\n                // This is probably a native item type we don't understand.\n                return;\n            }\n            _this.altKeyPressed = e.altKey;\n            if (!BrowserDetector_1.isFirefox()) {\n                // Don't emit hover in `dragenter` on Firefox due to an edge case.\n                // If the target changes position as the result of `dragenter`, Firefox\n                // will still happily dispatch `dragover` despite target being no longer\n                // there. The easy solution is to only fire `hover` in `dragover` on FF.\n                _this.actions.hover(dragEnterTargetIds, {\n                    clientOffset: OffsetUtils_1.getEventClientOffset(e),\n                });\n            }\n            var canDrop = dragEnterTargetIds.some(function (targetId) {\n                return _this.monitor.canDropOnTarget(targetId);\n            });\n            if (canDrop) {\n                // IE requires this to fire dragover events\n                e.preventDefault();\n                e.dataTransfer.dropEffect = _this.getCurrentDropEffect();\n            }\n        };\n        this.handleTopDragOverCapture = function () {\n            _this.dragOverTargetIds = [];\n        };\n        this.handleTopDragOver = function (e) {\n            var dragOverTargetIds = _this.dragOverTargetIds;\n            _this.dragOverTargetIds = [];\n            if (!_this.monitor.isDragging()) {\n                // This is probably a native item type we don't understand.\n                // Prevent default \"drop and blow away the whole document\" action.\n                e.preventDefault();\n                e.dataTransfer.dropEffect = 'none';\n                return;\n            }\n            _this.altKeyPressed = e.altKey;\n            _this.actions.hover(dragOverTargetIds || [], {\n                clientOffset: OffsetUtils_1.getEventClientOffset(e),\n            });\n            var canDrop = (dragOverTargetIds || []).some(function (targetId) {\n                return _this.monitor.canDropOnTarget(targetId);\n            });\n            if (canDrop) {\n                // Show user-specified drop effect.\n                e.preventDefault();\n                e.dataTransfer.dropEffect = _this.getCurrentDropEffect();\n            }\n            else if (_this.isDraggingNativeItem()) {\n                // Don't show a nice cursor but still prevent default\n                // \"drop and blow away the whole document\" action.\n                e.preventDefault();\n                e.dataTransfer.dropEffect = 'none';\n            }\n            else {\n                e.preventDefault();\n                e.dataTransfer.dropEffect = 'none';\n            }\n        };\n        this.handleTopDragLeaveCapture = function (e) {\n            if (_this.isDraggingNativeItem()) {\n                e.preventDefault();\n            }\n            var isLastLeave = _this.enterLeaveCounter.leave(e.target);\n            if (!isLastLeave) {\n                return;\n            }\n            if (_this.isDraggingNativeItem()) {\n                _this.endDragNativeItem();\n            }\n        };\n        this.handleTopDropCapture = function (e) {\n            _this.dropTargetIds = [];\n            e.preventDefault();\n            if (_this.isDraggingNativeItem()) {\n                _this.currentNativeSource.mutateItemByReadingDataTransfer(e.dataTransfer);\n            }\n            _this.enterLeaveCounter.reset();\n        };\n        this.handleTopDrop = function (e) {\n            var dropTargetIds = _this.dropTargetIds;\n            _this.dropTargetIds = [];\n            _this.actions.hover(dropTargetIds, {\n                clientOffset: OffsetUtils_1.getEventClientOffset(e),\n            });\n            _this.actions.drop({ dropEffect: _this.getCurrentDropEffect() });\n            if (_this.isDraggingNativeItem()) {\n                _this.endDragNativeItem();\n            }\n            else {\n                _this.endDragIfSourceWasRemovedFromDOM();\n            }\n        };\n        this.handleSelectStart = function (e) {\n            var target = e.target;\n            // Only IE requires us to explicitly say\n            // we want drag drop operation to start\n            if (typeof target.dragDrop !== 'function') {\n                return;\n            }\n            // Inputs and textareas should be selectable\n            if (target.tagName === 'INPUT' ||\n                target.tagName === 'SELECT' ||\n                target.tagName === 'TEXTAREA' ||\n                target.isContentEditable) {\n                return;\n            }\n            // For other targets, ask IE\n            // to enable drag and drop\n            e.preventDefault();\n            target.dragDrop();\n        };\n        this.actions = manager.getActions();\n        this.monitor = manager.getMonitor();\n        this.registry = manager.getRegistry();\n        this.context = manager.getContext();\n        this.enterLeaveCounter = new EnterLeaveCounter_1.default(this.isNodeInDocument);\n    }\n    Object.defineProperty(HTML5Backend.prototype, \"window\", {\n        // public for test\n        get: function () {\n            if (this.context && this.context.window) {\n                return this.context.window;\n            }\n            else if (typeof window !== 'undefined') {\n                return window;\n            }\n            return undefined;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    HTML5Backend.prototype.setup = function () {\n        if (this.window === undefined) {\n            return;\n        }\n        if (this.window.__isReactDndBackendSetUp) {\n            throw new Error('Cannot have two HTML5 backends at the same time.');\n        }\n        this.window.__isReactDndBackendSetUp = true;\n        this.addEventListeners(this.window);\n    };\n    HTML5Backend.prototype.teardown = function () {\n        if (this.window === undefined) {\n            return;\n        }\n        this.window.__isReactDndBackendSetUp = false;\n        this.removeEventListeners(this.window);\n        this.clearCurrentDragSourceNode();\n        if (this.asyncEndDragFrameId) {\n            this.window.cancelAnimationFrame(this.asyncEndDragFrameId);\n        }\n    };\n    HTML5Backend.prototype.connectDragPreview = function (sourceId, node, options) {\n        var _this = this;\n        this.sourcePreviewNodeOptions.set(sourceId, options);\n        this.sourcePreviewNodes.set(sourceId, node);\n        return function () {\n            _this.sourcePreviewNodes.delete(sourceId);\n            _this.sourcePreviewNodeOptions.delete(sourceId);\n        };\n    };\n    HTML5Backend.prototype.connectDragSource = function (sourceId, node, options) {\n        var _this = this;\n        this.sourceNodes.set(sourceId, node);\n        this.sourceNodeOptions.set(sourceId, options);\n        var handleDragStart = function (e) { return _this.handleDragStart(e, sourceId); };\n        var handleSelectStart = function (e) { return _this.handleSelectStart(e); };\n        node.setAttribute('draggable', true);\n        node.addEventListener('dragstart', handleDragStart);\n        node.addEventListener('selectstart', handleSelectStart);\n        return function () {\n            _this.sourceNodes.delete(sourceId);\n            _this.sourceNodeOptions.delete(sourceId);\n            node.removeEventListener('dragstart', handleDragStart);\n            node.removeEventListener('selectstart', handleSelectStart);\n            node.setAttribute('draggable', false);\n        };\n    };\n    HTML5Backend.prototype.connectDropTarget = function (targetId, node) {\n        var _this = this;\n        var handleDragEnter = function (e) { return _this.handleDragEnter(e, targetId); };\n        var handleDragOver = function (e) { return _this.handleDragOver(e, targetId); };\n        var handleDrop = function (e) { return _this.handleDrop(e, targetId); };\n        node.addEventListener('dragenter', handleDragEnter);\n        node.addEventListener('dragover', handleDragOver);\n        node.addEventListener('drop', handleDrop);\n        return function () {\n            node.removeEventListener('dragenter', handleDragEnter);\n            node.removeEventListener('dragover', handleDragOver);\n            node.removeEventListener('drop', handleDrop);\n        };\n    };\n    HTML5Backend.prototype.addEventListeners = function (target) {\n        // SSR Fix (https://github.com/react-dnd/react-dnd/pull/813\n        if (!target.addEventListener) {\n            return;\n        }\n        target.addEventListener('dragstart', this.handleTopDragStart);\n        target.addEventListener('dragstart', this.handleTopDragStartCapture, true);\n        target.addEventListener('dragend', this.handleTopDragEndCapture, true);\n        target.addEventListener('dragenter', this.handleTopDragEnter);\n        target.addEventListener('dragenter', this.handleTopDragEnterCapture, true);\n        target.addEventListener('dragleave', this.handleTopDragLeaveCapture, true);\n        target.addEventListener('dragover', this.handleTopDragOver);\n        target.addEventListener('dragover', this.handleTopDragOverCapture, true);\n        target.addEventListener('drop', this.handleTopDrop);\n        target.addEventListener('drop', this.handleTopDropCapture, true);\n    };\n    HTML5Backend.prototype.removeEventListeners = function (target) {\n        // SSR Fix (https://github.com/react-dnd/react-dnd/pull/813\n        if (!target.removeEventListener) {\n            return;\n        }\n        target.removeEventListener('dragstart', this.handleTopDragStart);\n        target.removeEventListener('dragstart', this.handleTopDragStartCapture, true);\n        target.removeEventListener('dragend', this.handleTopDragEndCapture, true);\n        target.removeEventListener('dragenter', this.handleTopDragEnter);\n        target.removeEventListener('dragenter', this.handleTopDragEnterCapture, true);\n        target.removeEventListener('dragleave', this.handleTopDragLeaveCapture, true);\n        target.removeEventListener('dragover', this.handleTopDragOver);\n        target.removeEventListener('dragover', this.handleTopDragOverCapture, true);\n        target.removeEventListener('drop', this.handleTopDrop);\n        target.removeEventListener('drop', this.handleTopDropCapture, true);\n    };\n    HTML5Backend.prototype.getCurrentSourceNodeOptions = function () {\n        var sourceId = this.monitor.getSourceId();\n        var sourceNodeOptions = this.sourceNodeOptions.get(sourceId);\n        return defaults(sourceNodeOptions || {}, {\n            dropEffect: this.altKeyPressed ? 'copy' : 'move',\n        });\n    };\n    HTML5Backend.prototype.getCurrentDropEffect = function () {\n        if (this.isDraggingNativeItem()) {\n            // It makes more sense to default to 'copy' for native resources\n            return 'copy';\n        }\n        return this.getCurrentSourceNodeOptions().dropEffect;\n    };\n    HTML5Backend.prototype.getCurrentSourcePreviewNodeOptions = function () {\n        var sourceId = this.monitor.getSourceId();\n        var sourcePreviewNodeOptions = this.sourcePreviewNodeOptions.get(sourceId);\n        return defaults(sourcePreviewNodeOptions || {}, {\n            anchorX: 0.5,\n            anchorY: 0.5,\n            captureDraggingState: false,\n        });\n    };\n    HTML5Backend.prototype.isDraggingNativeItem = function () {\n        var itemType = this.monitor.getItemType();\n        return Object.keys(NativeTypes).some(function (key) { return NativeTypes[key] === itemType; });\n    };\n    HTML5Backend.prototype.beginDragNativeItem = function (type) {\n        this.clearCurrentDragSourceNode();\n        var SourceType = NativeDragSources_1.createNativeDragSource(type);\n        this.currentNativeSource = new SourceType();\n        this.currentNativeHandle = this.registry.addSource(type, this.currentNativeSource);\n        this.actions.beginDrag([this.currentNativeHandle]);\n    };\n    HTML5Backend.prototype.setCurrentDragSourceNode = function (node) {\n        var _this = this;\n        this.clearCurrentDragSourceNode();\n        this.currentDragSourceNode = node;\n        // A timeout of > 0 is necessary to resolve Firefox issue referenced\n        // See:\n        //   * https://github.com/react-dnd/react-dnd/pull/928\n        //   * https://github.com/react-dnd/react-dnd/issues/869\n        var MOUSE_MOVE_TIMEOUT = 1000;\n        // Receiving a mouse event in the middle of a dragging operation\n        // means it has ended and the drag source node disappeared from DOM,\n        // so the browser didn't dispatch the dragend event.\n        //\n        // We need to wait before we start listening for mousemove events.\n        // This is needed because the drag preview needs to be drawn or else it fires an 'mousemove' event\n        // immediately in some browsers.\n        //\n        // See:\n        //   * https://github.com/react-dnd/react-dnd/pull/928\n        //   * https://github.com/react-dnd/react-dnd/issues/869\n        //\n        this.mouseMoveTimeoutTimer = setTimeout(function () {\n            return (_this.window &&\n                _this.window.addEventListener('mousemove', _this.endDragIfSourceWasRemovedFromDOM, true));\n        }, MOUSE_MOVE_TIMEOUT);\n    };\n    HTML5Backend.prototype.clearCurrentDragSourceNode = function () {\n        if (this.currentDragSourceNode) {\n            this.currentDragSourceNode = null;\n            if (this.window) {\n                this.window.clearTimeout(this.mouseMoveTimeoutTimer);\n                this.window.removeEventListener('mousemove', this.endDragIfSourceWasRemovedFromDOM, true);\n            }\n            this.mouseMoveTimeoutTimer = null;\n            return true;\n        }\n        return false;\n    };\n    HTML5Backend.prototype.handleDragStart = function (e, sourceId) {\n        if (!this.dragStartSourceIds) {\n            this.dragStartSourceIds = [];\n        }\n        this.dragStartSourceIds.unshift(sourceId);\n    };\n    HTML5Backend.prototype.handleDragEnter = function (e, targetId) {\n        this.dragEnterTargetIds.unshift(targetId);\n    };\n    HTML5Backend.prototype.handleDragOver = function (e, targetId) {\n        if (this.dragOverTargetIds === null) {\n            this.dragOverTargetIds = [];\n        }\n        this.dragOverTargetIds.unshift(targetId);\n    };\n    HTML5Backend.prototype.handleDrop = function (e, targetId) {\n        this.dropTargetIds.unshift(targetId);\n    };\n    return HTML5Backend;\n}());\nexports.default = HTML5Backend;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar union = require('lodash/union');\nvar without = require('lodash/without');\nvar EnterLeaveCounter = /** @class */ (function () {\n    function EnterLeaveCounter(isNodeInDocument) {\n        this.entered = [];\n        this.isNodeInDocument = isNodeInDocument;\n    }\n    EnterLeaveCounter.prototype.enter = function (enteringNode) {\n        var _this = this;\n        var previousLength = this.entered.length;\n        var isNodeEntered = function (node) {\n            return _this.isNodeInDocument(node) &&\n                (!node.contains || node.contains(enteringNode));\n        };\n        this.entered = union(this.entered.filter(isNodeEntered), [enteringNode]);\n        return previousLength === 0 && this.entered.length > 0;\n    };\n    EnterLeaveCounter.prototype.leave = function (leavingNode) {\n        var previousLength = this.entered.length;\n        this.entered = without(this.entered.filter(this.isNodeInDocument), leavingNode);\n        return previousLength > 0 && this.entered.length === 0;\n    };\n    EnterLeaveCounter.prototype.reset = function () {\n        this.entered = [];\n    };\n    return EnterLeaveCounter;\n}());\nexports.default = EnterLeaveCounter;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BrowserDetector_1 = require(\"./BrowserDetector\");\nvar MonotonicInterpolant_1 = require(\"./MonotonicInterpolant\");\nvar ELEMENT_NODE = 1;\nfunction getNodeClientOffset(node) {\n    var el = node.nodeType === ELEMENT_NODE ? node : node.parentElement;\n    if (!el) {\n        return null;\n    }\n    var _a = el.getBoundingClientRect(), top = _a.top, left = _a.left;\n    return { x: left, y: top };\n}\nexports.getNodeClientOffset = getNodeClientOffset;\nfunction getEventClientOffset(e) {\n    return {\n        x: e.clientX,\n        y: e.clientY,\n    };\n}\nexports.getEventClientOffset = getEventClientOffset;\nfunction isImageNode(node) {\n    return (node.nodeName === 'IMG' &&\n        (BrowserDetector_1.isFirefox() || !document.documentElement.contains(node)));\n}\nfunction getDragPreviewSize(isImage, dragPreview, sourceWidth, sourceHeight) {\n    var dragPreviewWidth = isImage ? dragPreview.width : sourceWidth;\n    var dragPreviewHeight = isImage ? dragPreview.height : sourceHeight;\n    // Work around @2x coordinate discrepancies in browsers\n    if (BrowserDetector_1.isSafari() && isImage) {\n        dragPreviewHeight /= window.devicePixelRatio;\n        dragPreviewWidth /= window.devicePixelRatio;\n    }\n    return { dragPreviewWidth: dragPreviewWidth, dragPreviewHeight: dragPreviewHeight };\n}\nfunction getDragPreviewOffset(sourceNode, dragPreview, clientOffset, anchorPoint, offsetPoint) {\n    // The browsers will use the image intrinsic size under different conditions.\n    // Firefox only cares if it's an image, but WebKit also wants it to be detached.\n    var isImage = isImageNode(dragPreview);\n    var dragPreviewNode = isImage ? sourceNode : dragPreview;\n    var dragPreviewNodeOffsetFromClient = getNodeClientOffset(dragPreviewNode);\n    var offsetFromDragPreview = {\n        x: clientOffset.x - dragPreviewNodeOffsetFromClient.x,\n        y: clientOffset.y - dragPreviewNodeOffsetFromClient.y,\n    };\n    var sourceWidth = sourceNode.offsetWidth, sourceHeight = sourceNode.offsetHeight;\n    var anchorX = anchorPoint.anchorX, anchorY = anchorPoint.anchorY;\n    var _a = getDragPreviewSize(isImage, dragPreview, sourceWidth, sourceHeight), dragPreviewWidth = _a.dragPreviewWidth, dragPreviewHeight = _a.dragPreviewHeight;\n    var calculateYOffset = function () {\n        var interpolantY = new MonotonicInterpolant_1.default([0, 0.5, 1], [\n            // Dock to the top\n            offsetFromDragPreview.y,\n            // Align at the center\n            (offsetFromDragPreview.y / sourceHeight) * dragPreviewHeight,\n            // Dock to the bottom\n            offsetFromDragPreview.y + dragPreviewHeight - sourceHeight,\n        ]);\n        var y = interpolantY.interpolate(anchorY);\n        // Work around Safari 8 positioning bug\n        if (BrowserDetector_1.isSafari() && isImage) {\n            // We'll have to wait for @3x to see if this is entirely correct\n            y += (window.devicePixelRatio - 1) * dragPreviewHeight;\n        }\n        return y;\n    };\n    var calculateXOffset = function () {\n        // Interpolate coordinates depending on anchor point\n        // If you know a simpler way to do this, let me know\n        var interpolantX = new MonotonicInterpolant_1.default([0, 0.5, 1], [\n            // Dock to the left\n            offsetFromDragPreview.x,\n            // Align at the center\n            (offsetFromDragPreview.x / sourceWidth) * dragPreviewWidth,\n            // Dock to the right\n            offsetFromDragPreview.x + dragPreviewWidth - sourceWidth,\n        ]);\n        return interpolantX.interpolate(anchorX);\n    };\n    // Force offsets if specified in the options.\n    var offsetX = offsetPoint.offsetX, offsetY = offsetPoint.offsetY;\n    var isManualOffsetX = offsetX === 0 || offsetX;\n    var isManualOffsetY = offsetY === 0 || offsetY;\n    return {\n        x: isManualOffsetX ? offsetX : calculateXOffset(),\n        y: isManualOffsetY ? offsetY : calculateYOffset(),\n    };\n}\nexports.getDragPreviewOffset = getDragPreviewOffset;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar MonotonicInterpolant = /** @class */ (function () {\n    function MonotonicInterpolant(xs, ys) {\n        var length = xs.length;\n        // Rearrange xs and ys so that xs is sorted\n        var indexes = [];\n        for (var i = 0; i < length; i++) {\n            indexes.push(i);\n        }\n        indexes.sort(function (a, b) { return (xs[a] < xs[b] ? -1 : 1); });\n        // Get consecutive differences and slopes\n        var dys = [];\n        var dxs = [];\n        var ms = [];\n        var dx;\n        var dy;\n        for (var i = 0; i < length - 1; i++) {\n            dx = xs[i + 1] - xs[i];\n            dy = ys[i + 1] - ys[i];\n            dxs.push(dx);\n            dys.push(dy);\n            ms.push(dy / dx);\n        }\n        // Get degree-1 coefficients\n        var c1s = [ms[0]];\n        for (var i = 0; i < dxs.length - 1; i++) {\n            var m2 = ms[i];\n            var mNext = ms[i + 1];\n            if (m2 * mNext <= 0) {\n                c1s.push(0);\n            }\n            else {\n                dx = dxs[i];\n                var dxNext = dxs[i + 1];\n                var common = dx + dxNext;\n                c1s.push(3 * common / ((common + dxNext) / m2 + (common + dx) / mNext));\n            }\n        }\n        c1s.push(ms[ms.length - 1]);\n        // Get degree-2 and degree-3 coefficients\n        var c2s = [];\n        var c3s = [];\n        var m;\n        for (var i = 0; i < c1s.length - 1; i++) {\n            m = ms[i];\n            var c1 = c1s[i];\n            var invDx = 1 / dxs[i];\n            var common = c1 + c1s[i + 1] - m - m;\n            c2s.push((m - c1 - common) * invDx);\n            c3s.push(common * invDx * invDx);\n        }\n        this.xs = xs;\n        this.ys = ys;\n        this.c1s = c1s;\n        this.c2s = c2s;\n        this.c3s = c3s;\n    }\n    MonotonicInterpolant.prototype.interpolate = function (x) {\n        var _a = this, xs = _a.xs, ys = _a.ys, c1s = _a.c1s, c2s = _a.c2s, c3s = _a.c3s;\n        // The rightmost point in the dataset should give an exact result\n        var i = xs.length - 1;\n        if (x === xs[i]) {\n            return ys[i];\n        }\n        // Search for the interval x is in, returning the corresponding y if x is one of the original xs\n        var low = 0;\n        var high = c3s.length - 1;\n        var mid;\n        while (low <= high) {\n            mid = Math.floor(0.5 * (low + high));\n            var xHere = xs[mid];\n            if (xHere < x) {\n                low = mid + 1;\n            }\n            else if (xHere > x) {\n                high = mid - 1;\n            }\n            else {\n                return ys[mid];\n            }\n        }\n        i = Math.max(0, high);\n        // Interpolate\n        var diff = x - xs[i];\n        var diffSq = diff * diff;\n        return ys[i] + c1s[i] * diff + c2s[i] * diffSq + c3s[i] * diff * diffSq;\n    };\n    return MonotonicInterpolant;\n}());\nexports.default = MonotonicInterpolant;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _a;\nvar NativeTypes = require(\"./NativeTypes\");\nfunction getDataFromDataTransfer(dataTransfer, typesToTry, defaultValue) {\n    var result = typesToTry.reduce(function (resultSoFar, typeToTry) { return resultSoFar || dataTransfer.getData(typeToTry); }, null);\n    return result != null ? result : defaultValue;\n}\nvar nativeTypesConfig = (_a = {},\n    _a[NativeTypes.FILE] = {\n        exposeProperty: 'files',\n        matchesTypes: ['Files'],\n        getData: function (dataTransfer) {\n            return Array.prototype.slice.call(dataTransfer.files);\n        },\n    },\n    _a[NativeTypes.URL] = {\n        exposeProperty: 'urls',\n        matchesTypes: ['Url', 'text/uri-list'],\n        getData: function (dataTransfer, matchesTypes) {\n            return getDataFromDataTransfer(dataTransfer, matchesTypes, '').split('\\n');\n        },\n    },\n    _a[NativeTypes.TEXT] = {\n        exposeProperty: 'text',\n        matchesTypes: ['Text', 'text/plain'],\n        getData: function (dataTransfer, matchesTypes) {\n            return getDataFromDataTransfer(dataTransfer, matchesTypes, '');\n        },\n    },\n    _a);\nfunction createNativeDragSource(type) {\n    var _a = nativeTypesConfig[type], exposeProperty = _a.exposeProperty, matchesTypes = _a.matchesTypes, getData = _a.getData;\n    return /** @class */ (function () {\n        function NativeDragSource() {\n            var _a;\n            this.item = (_a = {},\n                Object.defineProperty(_a, exposeProperty, {\n                    get: function () {\n                        // tslint:disable-next-line no-console\n                        console.warn(\"Browser doesn't allow reading \\\"\" + exposeProperty + \"\\\" until the drop event.\");\n                        return null;\n                    },\n                    enumerable: true,\n                    configurable: true\n                }),\n                _a);\n        }\n        NativeDragSource.prototype.mutateItemByReadingDataTransfer = function (dataTransfer) {\n            delete this.item[exposeProperty];\n            this.item[exposeProperty] = getData(dataTransfer, matchesTypes);\n        };\n        NativeDragSource.prototype.canDrag = function () {\n            return true;\n        };\n        NativeDragSource.prototype.beginDrag = function () {\n            return this.item;\n        };\n        NativeDragSource.prototype.isDragging = function (monitor, handle) {\n            return handle === monitor.getSourceId();\n        };\n        NativeDragSource.prototype.endDrag = function () {\n            // empty\n        };\n        return NativeDragSource;\n    }());\n}\nexports.createNativeDragSource = createNativeDragSource;\nfunction matchNativeItemType(dataTransfer) {\n    var dataTransferTypes = Array.prototype.slice.call(dataTransfer.types || []);\n    return (Object.keys(nativeTypesConfig).filter(function (nativeItemType) {\n        var matchesTypes = nativeTypesConfig[nativeItemType].matchesTypes;\n        return matchesTypes.some(function (t) { return dataTransferTypes.indexOf(t) > -1; });\n    })[0] || null);\n}\nexports.matchNativeItemType = matchNativeItemType;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar emptyImage;\nfunction getEmptyImage() {\n    if (!emptyImage) {\n        emptyImage = new Image();\n        emptyImage.src =\n            'data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==';\n    }\n    return emptyImage;\n}\nexports.default = getEmptyImage;\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./interfaces\"));\n__export(require(\"./factories\"));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar DragDropManagerImpl_1 = require(\"./DragDropManagerImpl\");\nfunction createDragDropManager(backend, context) {\n    return new DragDropManagerImpl_1.default(backend, context);\n}\nexports.createDragDropManager = createDragDropManager;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar redux_1 = require(\"redux\");\nvar reducers_1 = require(\"./reducers\");\nvar dragDrop_1 = require(\"./actions/dragDrop\");\nvar DragDropMonitorImpl_1 = require(\"./DragDropMonitorImpl\");\nvar HandlerRegistryImpl_1 = require(\"./HandlerRegistryImpl\");\nvar DragDropManagerImpl = /** @class */ (function () {\n    function DragDropManagerImpl(createBackend, context) {\n        if (context === void 0) { context = {}; }\n        this.context = context;\n        this.isSetUp = false;\n        var store = redux_1.createStore(reducers_1.default);\n        this.store = store;\n        this.monitor = new DragDropMonitorImpl_1.default(store, new HandlerRegistryImpl_1.default(store));\n        this.backend = createBackend(this);\n        store.subscribe(this.handleRefCountChange.bind(this));\n    }\n    DragDropManagerImpl.prototype.getContext = function () {\n        return this.context;\n    };\n    DragDropManagerImpl.prototype.getMonitor = function () {\n        return this.monitor;\n    };\n    DragDropManagerImpl.prototype.getBackend = function () {\n        return this.backend;\n    };\n    DragDropManagerImpl.prototype.getRegistry = function () {\n        return this.monitor.registry;\n    };\n    DragDropManagerImpl.prototype.getActions = function () {\n        var manager = this;\n        var dispatch = this.store.dispatch;\n        function bindActionCreator(actionCreator) {\n            return function () {\n                var args = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    args[_i] = arguments[_i];\n                }\n                var action = actionCreator.apply(manager, args);\n                if (typeof action !== 'undefined') {\n                    dispatch(action);\n                }\n            };\n        }\n        var actions = dragDrop_1.default(this);\n        return Object.keys(actions).reduce(function (boundActions, key) {\n            var action = actions[key];\n            boundActions[key] = bindActionCreator(action);\n            return boundActions;\n        }, {});\n    };\n    DragDropManagerImpl.prototype.dispatch = function (action) {\n        this.store.dispatch(action);\n    };\n    DragDropManagerImpl.prototype.handleRefCountChange = function () {\n        var shouldSetUp = this.store.getState().refCount > 0;\n        if (shouldSetUp && !this.isSetUp) {\n            this.backend.setup();\n            this.isSetUp = true;\n        }\n        else if (!shouldSetUp && this.isSetUp) {\n            this.backend.teardown();\n            this.isSetUp = false;\n        }\n    };\n    return DragDropManagerImpl;\n}());\nexports.default = DragDropManagerImpl;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar dragOffset_1 = require(\"./dragOffset\");\nvar dragOperation_1 = require(\"./dragOperation\");\nvar refCount_1 = require(\"./refCount\");\nvar dirtyHandlerIds_1 = require(\"./dirtyHandlerIds\");\nvar stateId_1 = require(\"./stateId\");\nvar get = require('lodash/get');\nfunction reduce(state, action) {\n    if (state === void 0) { state = {}; }\n    return {\n        dirtyHandlerIds: dirtyHandlerIds_1.default(state.dirtyHandlerIds, {\n            type: action.type,\n            payload: __assign({}, action.payload, { prevTargetIds: get(state, 'dragOperation.targetIds', []) }),\n        }),\n        dragOffset: dragOffset_1.default(state.dragOffset, action),\n        refCount: refCount_1.default(state.refCount, action),\n        dragOperation: dragOperation_1.default(state.dragOperation, action),\n        stateId: stateId_1.default(state.stateId),\n    };\n}\nexports.default = reduce;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar dragDrop_1 = require(\"../actions/dragDrop\");\nvar equality_1 = require(\"../utils/equality\");\nvar initialState = {\n    initialSourceClientOffset: null,\n    initialClientOffset: null,\n    clientOffset: null,\n};\nfunction dragOffset(state, action) {\n    if (state === void 0) { state = initialState; }\n    var payload = action.payload;\n    switch (action.type) {\n        case dragDrop_1.BEGIN_DRAG:\n            return {\n                initialSourceClientOffset: payload.sourceClientOffset,\n                initialClientOffset: payload.clientOffset,\n                clientOffset: payload.clientOffset,\n            };\n        case dragDrop_1.HOVER:\n            if (equality_1.areCoordsEqual(state.clientOffset, payload.clientOffset)) {\n                return state;\n            }\n            return __assign({}, state, { clientOffset: payload.clientOffset });\n        case dragDrop_1.END_DRAG:\n        case dragDrop_1.DROP:\n            return initialState;\n        default:\n            return state;\n    }\n}\nexports.default = dragOffset;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar dragDrop_1 = require(\"../actions/dragDrop\");\nvar registry_1 = require(\"../actions/registry\");\nvar without = require('lodash/without');\nvar initialState = {\n    itemType: null,\n    item: null,\n    sourceId: null,\n    targetIds: [],\n    dropResult: null,\n    didDrop: false,\n    isSourcePublic: null,\n};\nfunction dragOperation(state, action) {\n    if (state === void 0) { state = initialState; }\n    var payload = action.payload;\n    switch (action.type) {\n        case dragDrop_1.BEGIN_DRAG:\n            return __assign({}, state, { itemType: payload.itemType, item: payload.item, sourceId: payload.sourceId, isSourcePublic: payload.isSourcePublic, dropResult: null, didDrop: false });\n        case dragDrop_1.PUBLISH_DRAG_SOURCE:\n            return __assign({}, state, { isSourcePublic: true });\n        case dragDrop_1.HOVER:\n            return __assign({}, state, { targetIds: payload.targetIds });\n        case registry_1.REMOVE_TARGET:\n            if (state.targetIds.indexOf(payload.targetId) === -1) {\n                return state;\n            }\n            return __assign({}, state, { targetIds: without(state.targetIds, payload.targetId) });\n        case dragDrop_1.DROP:\n            return __assign({}, state, { dropResult: payload.dropResult, didDrop: true, targetIds: [] });\n        case dragDrop_1.END_DRAG:\n            return __assign({}, state, { itemType: null, item: null, sourceId: null, dropResult: null, didDrop: false, isSourcePublic: null, targetIds: [] });\n        default:\n            return state;\n    }\n}\nexports.default = dragOperation;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar registry_1 = require(\"../actions/registry\");\nfunction refCount(state, action) {\n    if (state === void 0) { state = 0; }\n    switch (action.type) {\n        case registry_1.ADD_SOURCE:\n        case registry_1.ADD_TARGET:\n            return state + 1;\n        case registry_1.REMOVE_SOURCE:\n        case registry_1.REMOVE_TARGET:\n            return state - 1;\n        default:\n            return state;\n    }\n}\nexports.default = refCount;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar dragDrop_1 = require(\"../actions/dragDrop\");\nvar registry_1 = require(\"../actions/registry\");\nvar equality_1 = require(\"../utils/equality\");\nvar dirtiness_1 = require(\"../utils/dirtiness\");\nvar xor = require('lodash/xor');\nfunction dirtyHandlerIds(state, action) {\n    if (state === void 0) { state = dirtiness_1.NONE; }\n    switch (action.type) {\n        case dragDrop_1.HOVER:\n            break;\n        case registry_1.ADD_SOURCE:\n        case registry_1.ADD_TARGET:\n        case registry_1.REMOVE_TARGET:\n        case registry_1.REMOVE_SOURCE:\n            return dirtiness_1.NONE;\n        case dragDrop_1.BEGIN_DRAG:\n        case dragDrop_1.PUBLISH_DRAG_SOURCE:\n        case dragDrop_1.END_DRAG:\n        case dragDrop_1.DROP:\n        default:\n            return dirtiness_1.ALL;\n    }\n    var _a = action.payload, _b = _a.targetIds, targetIds = _b === void 0 ? [] : _b, _c = _a.prevTargetIds, prevTargetIds = _c === void 0 ? [] : _c;\n    var result = xor(targetIds, prevTargetIds);\n    var didChange = result.length > 0 || !equality_1.areArraysEqual(targetIds, prevTargetIds);\n    if (!didChange) {\n        return dirtiness_1.NONE;\n    }\n    // Check the target ids at the innermost position. If they are valid, add them\n    // to the result\n    var prevInnermostTargetId = prevTargetIds[prevTargetIds.length - 1];\n    var innermostTargetId = targetIds[targetIds.length - 1];\n    if (prevInnermostTargetId !== innermostTargetId) {\n        if (prevInnermostTargetId) {\n            result.push(prevInnermostTargetId);\n        }\n        if (innermostTargetId) {\n            result.push(innermostTargetId);\n        }\n    }\n    return result;\n}\nexports.default = dirtyHandlerIds;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction stateId(state) {\n    if (state === void 0) { state = 0; }\n    return state + 1;\n}\nexports.default = stateId;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar matchesType_1 = require(\"./utils/matchesType\");\nvar coords_1 = require(\"./utils/coords\");\nvar dirtiness_1 = require(\"./utils/dirtiness\");\nvar invariant = require('invariant');\nvar DragDropMonitorImpl = /** @class */ (function () {\n    function DragDropMonitorImpl(store, registry) {\n        this.store = store;\n        this.registry = registry;\n    }\n    DragDropMonitorImpl.prototype.subscribeToStateChange = function (listener, options) {\n        var _this = this;\n        if (options === void 0) { options = { handlerIds: undefined }; }\n        var handlerIds = options.handlerIds;\n        invariant(typeof listener === 'function', 'listener must be a function.');\n        invariant(typeof handlerIds === 'undefined' || Array.isArray(handlerIds), 'handlerIds, when specified, must be an array of strings.');\n        var prevStateId = this.store.getState().stateId;\n        var handleChange = function () {\n            var state = _this.store.getState();\n            var currentStateId = state.stateId;\n            try {\n                var canSkipListener = currentStateId === prevStateId ||\n                    (currentStateId === prevStateId + 1 &&\n                        !dirtiness_1.areDirty(state.dirtyHandlerIds, handlerIds));\n                if (!canSkipListener) {\n                    listener();\n                }\n            }\n            finally {\n                prevStateId = currentStateId;\n            }\n        };\n        return this.store.subscribe(handleChange);\n    };\n    DragDropMonitorImpl.prototype.subscribeToOffsetChange = function (listener) {\n        var _this = this;\n        invariant(typeof listener === 'function', 'listener must be a function.');\n        var previousState = this.store.getState().dragOffset;\n        var handleChange = function () {\n            var nextState = _this.store.getState().dragOffset;\n            if (nextState === previousState) {\n                return;\n            }\n            previousState = nextState;\n            listener();\n        };\n        return this.store.subscribe(handleChange);\n    };\n    DragDropMonitorImpl.prototype.canDragSource = function (sourceId) {\n        var source = this.registry.getSource(sourceId);\n        invariant(source, 'Expected to find a valid source.');\n        if (this.isDragging()) {\n            return false;\n        }\n        return source.canDrag(this, sourceId);\n    };\n    DragDropMonitorImpl.prototype.canDropOnTarget = function (targetId) {\n        var target = this.registry.getTarget(targetId);\n        invariant(target, 'Expected to find a valid target.');\n        if (!this.isDragging() || this.didDrop()) {\n            return false;\n        }\n        var targetType = this.registry.getTargetType(targetId);\n        var draggedItemType = this.getItemType();\n        return (matchesType_1.default(targetType, draggedItemType) && target.canDrop(this, targetId));\n    };\n    DragDropMonitorImpl.prototype.isDragging = function () {\n        return Boolean(this.getItemType());\n    };\n    DragDropMonitorImpl.prototype.isDraggingSource = function (sourceId) {\n        var source = this.registry.getSource(sourceId, true);\n        invariant(source, 'Expected to find a valid source.');\n        if (!this.isDragging() || !this.isSourcePublic()) {\n            return false;\n        }\n        var sourceType = this.registry.getSourceType(sourceId);\n        var draggedItemType = this.getItemType();\n        if (sourceType !== draggedItemType) {\n            return false;\n        }\n        return source.isDragging(this, sourceId);\n    };\n    DragDropMonitorImpl.prototype.isOverTarget = function (targetId, options) {\n        if (options === void 0) { options = { shallow: false }; }\n        var shallow = options.shallow;\n        if (!this.isDragging()) {\n            return false;\n        }\n        var targetType = this.registry.getTargetType(targetId);\n        var draggedItemType = this.getItemType();\n        if (draggedItemType && !matchesType_1.default(targetType, draggedItemType)) {\n            return false;\n        }\n        var targetIds = this.getTargetIds();\n        if (!targetIds.length) {\n            return false;\n        }\n        var index = targetIds.indexOf(targetId);\n        if (shallow) {\n            return index === targetIds.length - 1;\n        }\n        else {\n            return index > -1;\n        }\n    };\n    DragDropMonitorImpl.prototype.getItemType = function () {\n        return this.store.getState().dragOperation.itemType;\n    };\n    DragDropMonitorImpl.prototype.getItem = function () {\n        return this.store.getState().dragOperation.item;\n    };\n    DragDropMonitorImpl.prototype.getSourceId = function () {\n        return this.store.getState().dragOperation.sourceId;\n    };\n    DragDropMonitorImpl.prototype.getTargetIds = function () {\n        return this.store.getState().dragOperation.targetIds;\n    };\n    DragDropMonitorImpl.prototype.getDropResult = function () {\n        return this.store.getState().dragOperation.dropResult;\n    };\n    DragDropMonitorImpl.prototype.didDrop = function () {\n        return this.store.getState().dragOperation.didDrop;\n    };\n    DragDropMonitorImpl.prototype.isSourcePublic = function () {\n        return this.store.getState().dragOperation.isSourcePublic;\n    };\n    DragDropMonitorImpl.prototype.getInitialClientOffset = function () {\n        return this.store.getState().dragOffset.initialClientOffset;\n    };\n    DragDropMonitorImpl.prototype.getInitialSourceClientOffset = function () {\n        return this.store.getState().dragOffset.initialSourceClientOffset;\n    };\n    DragDropMonitorImpl.prototype.getClientOffset = function () {\n        return this.store.getState().dragOffset.clientOffset;\n    };\n    DragDropMonitorImpl.prototype.getSourceClientOffset = function () {\n        return coords_1.getSourceClientOffset(this.store.getState().dragOffset);\n    };\n    DragDropMonitorImpl.prototype.getDifferenceFromInitialOffset = function () {\n        return coords_1.getDifferenceFromInitialOffset(this.store.getState().dragOffset);\n    };\n    return DragDropMonitorImpl;\n}());\nexports.default = DragDropMonitorImpl;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Coordinate addition\n * @param a The first coordinate\n * @param b The second coordinate\n */\nfunction add(a, b) {\n    return {\n        x: a.x + b.x,\n        y: a.y + b.y,\n    };\n}\nexports.add = add;\n/**\n * Coordinate subtraction\n * @param a The first coordinate\n * @param b The second coordinate\n */\nfunction subtract(a, b) {\n    return {\n        x: a.x - b.x,\n        y: a.y - b.y,\n    };\n}\nexports.subtract = subtract;\n/**\n * Returns the cartesian distance of the drag source component's position, based on its position\n * at the time when the current drag operation has started, and the movement difference.\n *\n * Returns null if no item is being dragged.\n *\n * @param state The offset state to compute from\n */\nfunction getSourceClientOffset(state) {\n    var clientOffset = state.clientOffset, initialClientOffset = state.initialClientOffset, initialSourceClientOffset = state.initialSourceClientOffset;\n    if (!clientOffset || !initialClientOffset || !initialSourceClientOffset) {\n        return null;\n    }\n    return subtract(add(clientOffset, initialSourceClientOffset), initialClientOffset);\n}\nexports.getSourceClientOffset = getSourceClientOffset;\n/**\n * Determines the x,y offset between the client offset and the initial client offset\n *\n * @param state The offset state to compute from\n */\nfunction getDifferenceFromInitialOffset(state) {\n    var clientOffset = state.clientOffset, initialClientOffset = state.initialClientOffset;\n    if (!clientOffset || !initialClientOffset) {\n        return null;\n    }\n    return subtract(clientOffset, initialClientOffset);\n}\nexports.getDifferenceFromInitialOffset = getDifferenceFromInitialOffset;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar registry_1 = require(\"./actions/registry\");\nvar getNextUniqueId_1 = require(\"./utils/getNextUniqueId\");\nvar interfaces_1 = require(\"./interfaces\");\nvar contracts_1 = require(\"./contracts\");\nvar invariant = require('invariant');\nvar asap = require('asap');\nfunction getNextHandlerId(role) {\n    var id = getNextUniqueId_1.default().toString();\n    switch (role) {\n        case interfaces_1.HandlerRole.SOURCE:\n            return \"S\" + id;\n        case interfaces_1.HandlerRole.TARGET:\n            return \"T\" + id;\n        default:\n            throw new Error(\"Unknown Handler Role: \" + role);\n    }\n}\nfunction parseRoleFromHandlerId(handlerId) {\n    switch (handlerId[0]) {\n        case 'S':\n            return interfaces_1.HandlerRole.SOURCE;\n        case 'T':\n            return interfaces_1.HandlerRole.TARGET;\n        default:\n            invariant(false, \"Cannot parse handler ID: \" + handlerId);\n    }\n}\nfunction mapContainsValue(map, searchValue) {\n    var entries = map.entries();\n    var isDone = false;\n    do {\n        var _a = entries.next(), done = _a.done, _b = _a.value, value = _b[1];\n        if (value === searchValue) {\n            return true;\n        }\n        isDone = done;\n    } while (!isDone);\n    return false;\n}\nvar HandlerRegistryImpl = /** @class */ (function () {\n    function HandlerRegistryImpl(store) {\n        this.store = store;\n        this.types = new Map();\n        this.dragSources = new Map();\n        this.dropTargets = new Map();\n        this.pinnedSourceId = null;\n        this.pinnedSource = null;\n    }\n    HandlerRegistryImpl.prototype.addSource = function (type, source) {\n        contracts_1.validateType(type);\n        contracts_1.validateSourceContract(source);\n        var sourceId = this.addHandler(interfaces_1.HandlerRole.SOURCE, type, source);\n        this.store.dispatch(registry_1.addSource(sourceId));\n        return sourceId;\n    };\n    HandlerRegistryImpl.prototype.addTarget = function (type, target) {\n        contracts_1.validateType(type, true);\n        contracts_1.validateTargetContract(target);\n        var targetId = this.addHandler(interfaces_1.HandlerRole.TARGET, type, target);\n        this.store.dispatch(registry_1.addTarget(targetId));\n        return targetId;\n    };\n    HandlerRegistryImpl.prototype.containsHandler = function (handler) {\n        return (mapContainsValue(this.dragSources, handler) ||\n            mapContainsValue(this.dropTargets, handler));\n    };\n    HandlerRegistryImpl.prototype.getSource = function (sourceId, includePinned) {\n        if (includePinned === void 0) { includePinned = false; }\n        invariant(this.isSourceId(sourceId), 'Expected a valid source ID.');\n        var isPinned = includePinned && sourceId === this.pinnedSourceId;\n        var source = isPinned ? this.pinnedSource : this.dragSources.get(sourceId);\n        return source;\n    };\n    HandlerRegistryImpl.prototype.getTarget = function (targetId) {\n        invariant(this.isTargetId(targetId), 'Expected a valid target ID.');\n        return this.dropTargets.get(targetId);\n    };\n    HandlerRegistryImpl.prototype.getSourceType = function (sourceId) {\n        invariant(this.isSourceId(sourceId), 'Expected a valid source ID.');\n        return this.types.get(sourceId);\n    };\n    HandlerRegistryImpl.prototype.getTargetType = function (targetId) {\n        invariant(this.isTargetId(targetId), 'Expected a valid target ID.');\n        return this.types.get(targetId);\n    };\n    HandlerRegistryImpl.prototype.isSourceId = function (handlerId) {\n        var role = parseRoleFromHandlerId(handlerId);\n        return role === interfaces_1.HandlerRole.SOURCE;\n    };\n    HandlerRegistryImpl.prototype.isTargetId = function (handlerId) {\n        var role = parseRoleFromHandlerId(handlerId);\n        return role === interfaces_1.HandlerRole.TARGET;\n    };\n    HandlerRegistryImpl.prototype.removeSource = function (sourceId) {\n        var _this = this;\n        invariant(this.getSource(sourceId), 'Expected an existing source.');\n        this.store.dispatch(registry_1.removeSource(sourceId));\n        asap(function () {\n            _this.dragSources.delete(sourceId);\n            _this.types.delete(sourceId);\n        });\n    };\n    HandlerRegistryImpl.prototype.removeTarget = function (targetId) {\n        invariant(this.getTarget(targetId), 'Expected an existing target.');\n        this.store.dispatch(registry_1.removeTarget(targetId));\n        this.dropTargets.delete(targetId);\n        this.types.delete(targetId);\n    };\n    HandlerRegistryImpl.prototype.pinSource = function (sourceId) {\n        var source = this.getSource(sourceId);\n        invariant(source, 'Expected an existing source.');\n        this.pinnedSourceId = sourceId;\n        this.pinnedSource = source;\n    };\n    HandlerRegistryImpl.prototype.unpinSource = function () {\n        invariant(this.pinnedSource, 'No source is pinned at the time.');\n        this.pinnedSourceId = null;\n        this.pinnedSource = null;\n    };\n    HandlerRegistryImpl.prototype.addHandler = function (role, type, handler) {\n        var id = getNextHandlerId(role);\n        this.types.set(id, type);\n        if (role === interfaces_1.HandlerRole.SOURCE) {\n            this.dragSources.set(id, handler);\n        }\n        else if (role === interfaces_1.HandlerRole.TARGET) {\n            this.dropTargets.set(id, handler);\n        }\n        return id;\n    };\n    return HandlerRegistryImpl;\n}());\nexports.default = HandlerRegistryImpl;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar nextUniqueId = 0;\nfunction getNextUniqueId() {\n    return nextUniqueId++;\n}\nexports.default = getNextUniqueId;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar invariant = require('invariant');\nfunction validateSourceContract(source) {\n    invariant(typeof source.canDrag === 'function', 'Expected canDrag to be a function.');\n    invariant(typeof source.beginDrag === 'function', 'Expected beginDrag to be a function.');\n    invariant(typeof source.endDrag === 'function', 'Expected endDrag to be a function.');\n}\nexports.validateSourceContract = validateSourceContract;\nfunction validateTargetContract(target) {\n    invariant(typeof target.canDrop === 'function', 'Expected canDrop to be a function.');\n    invariant(typeof target.hover === 'function', 'Expected hover to be a function.');\n    invariant(typeof target.drop === 'function', 'Expected beginDrag to be a function.');\n}\nexports.validateTargetContract = validateTargetContract;\nfunction validateType(type, allowArray) {\n    if (allowArray && Array.isArray(type)) {\n        type.forEach(function (t) { return validateType(t, false); });\n        return;\n    }\n    invariant(typeof type === 'string' || typeof type === 'symbol', allowArray\n        ? 'Type can only be a string, a symbol, or an array of either.'\n        : 'Type can only be a string or a symbol.');\n}\nexports.validateType = validateType;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar checkDecoratorArguments_1 = require(\"./utils/checkDecoratorArguments\");\nvar DragDropContext_1 = require(\"./DragDropContext\");\nvar hoistStatics = require('hoist-non-react-statics');\nvar isPlainObject = require('lodash/isPlainObject');\nvar invariant = require('invariant');\nvar shallowEqual = require('shallowequal');\nvar isClassComponent = require('recompose/isClassComponent').default;\nfunction DragLayer(collect, options) {\n    if (options === void 0) { options = {}; }\n    checkDecoratorArguments_1.default('DragLayer', 'collect[, options]', collect, options);\n    invariant(typeof collect === 'function', 'Expected \"collect\" provided as the first argument to DragLayer to be a function that collects props to inject into the component. ', 'Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-layer.html', collect);\n    invariant(isPlainObject(options), 'Expected \"options\" provided as the second argument to DragLayer to be a plain object when specified. ' +\n        'Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-layer.html', options);\n    return function decorateLayer(DecoratedComponent) {\n        var Decorated = DecoratedComponent;\n        var _a = options.arePropsEqual, arePropsEqual = _a === void 0 ? shallowEqual : _a;\n        var displayName = Decorated.displayName || Decorated.name || 'Component';\n        var DragLayerContainer = /** @class */ (function (_super) {\n            __extends(DragLayerContainer, _super);\n            function DragLayerContainer(props) {\n                var _this = _super.call(this, props) || this;\n                _this.isCurrentlyMounted = false;\n                _this.ref = React.createRef();\n                _this.handleChange = _this.handleChange.bind(_this);\n                return _this;\n            }\n            Object.defineProperty(DragLayerContainer.prototype, \"DecoratedComponent\", {\n                get: function () {\n                    return DecoratedComponent;\n                },\n                enumerable: true,\n                configurable: true\n            });\n            DragLayerContainer.prototype.getDecoratedComponentInstance = function () {\n                invariant(this.ref.current, 'In order to access an instance of the decorated component it can not be a stateless component.');\n                return this.ref.current;\n            };\n            DragLayerContainer.prototype.shouldComponentUpdate = function (nextProps, nextState) {\n                return (!arePropsEqual(nextProps, this.props) ||\n                    !shallowEqual(nextState, this.state));\n            };\n            DragLayerContainer.prototype.componentDidMount = function () {\n                this.isCurrentlyMounted = true;\n                this.handleChange();\n            };\n            DragLayerContainer.prototype.componentWillUnmount = function () {\n                this.isCurrentlyMounted = false;\n                if (this.unsubscribeFromOffsetChange) {\n                    this.unsubscribeFromOffsetChange();\n                    this.unsubscribeFromOffsetChange = undefined;\n                }\n                if (this.unsubscribeFromStateChange) {\n                    this.unsubscribeFromStateChange();\n                    this.unsubscribeFromStateChange = undefined;\n                }\n            };\n            DragLayerContainer.prototype.render = function () {\n                var _this = this;\n                return (React.createElement(DragDropContext_1.Consumer, null, function (_a) {\n                    var dragDropManager = _a.dragDropManager;\n                    if (dragDropManager === undefined) {\n                        return null;\n                    }\n                    _this.receiveDragDropManager(dragDropManager);\n                    // Let componentDidMount fire to initialize the collected state\n                    if (!_this.isCurrentlyMounted) {\n                        return null;\n                    }\n                    return (React.createElement(Decorated, __assign({}, _this.props, _this.state, { ref: isClassComponent(Decorated) ? _this.ref : undefined })));\n                }));\n            };\n            DragLayerContainer.prototype.receiveDragDropManager = function (dragDropManager) {\n                if (this.manager !== undefined) {\n                    return;\n                }\n                this.manager = dragDropManager;\n                invariant(typeof dragDropManager === 'object', 'Could not find the drag and drop manager in the context of %s. ' +\n                    'Make sure to wrap the top-level component of your app with DragDropContext. ' +\n                    'Read more: http://react-dnd.github.io/react-dnd/docs-troubleshooting.html#could-not-find-the-drag-and-drop-manager-in-the-context', displayName, displayName);\n                var monitor = this.manager.getMonitor();\n                this.unsubscribeFromOffsetChange = monitor.subscribeToOffsetChange(this.handleChange);\n                this.unsubscribeFromStateChange = monitor.subscribeToStateChange(this.handleChange);\n            };\n            DragLayerContainer.prototype.handleChange = function () {\n                if (!this.isCurrentlyMounted) {\n                    return;\n                }\n                var nextState = this.getCurrentState();\n                if (!shallowEqual(nextState, this.state)) {\n                    this.setState(nextState);\n                }\n            };\n            DragLayerContainer.prototype.getCurrentState = function () {\n                if (!this.manager) {\n                    return {};\n                }\n                var monitor = this.manager.getMonitor();\n                return collect(monitor, this.props);\n            };\n            DragLayerContainer.displayName = \"DragLayer(\" + displayName + \")\";\n            return DragLayerContainer;\n        }(React.Component));\n        return hoistStatics(DragLayerContainer, DecoratedComponent);\n    };\n}\nexports.default = DragLayer;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar checkDecoratorArguments_1 = require(\"./utils/checkDecoratorArguments\");\nvar decorateHandler_1 = require(\"./decorateHandler\");\nvar registerSource_1 = require(\"./registerSource\");\nvar createSourceFactory_1 = require(\"./createSourceFactory\");\nvar createSourceMonitor_1 = require(\"./createSourceMonitor\");\nvar createSourceConnector_1 = require(\"./createSourceConnector\");\nvar isValidType_1 = require(\"./utils/isValidType\");\nvar invariant = require('invariant');\nvar isPlainObject = require('lodash/isPlainObject');\n/**\n * Decorates a component as a dragsource\n * @param type The dragsource type\n * @param spec The drag source specification\n * @param collect The props collector function\n * @param options DnD options\n */\nfunction DragSource(type, spec, collect, options) {\n    if (options === void 0) { options = {}; }\n    checkDecoratorArguments_1.default('DragSource', 'type, spec, collect[, options]', type, spec, collect, options);\n    var getType = type;\n    if (typeof type !== 'function') {\n        invariant(isValidType_1.default(type), 'Expected \"type\" provided as the first argument to DragSource to be ' +\n            'a string, or a function that returns a string given the current props. ' +\n            'Instead, received %s. ' +\n            'Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html', type);\n        getType = function () { return type; };\n    }\n    invariant(isPlainObject(spec), 'Expected \"spec\" provided as the second argument to DragSource to be ' +\n        'a plain object. Instead, received %s. ' +\n        'Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html', spec);\n    var createSource = createSourceFactory_1.default(spec);\n    invariant(typeof collect === 'function', 'Expected \"collect\" provided as the third argument to DragSource to be ' +\n        'a function that returns a plain object of props to inject. ' +\n        'Instead, received %s. ' +\n        'Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html', collect);\n    invariant(isPlainObject(options), 'Expected \"options\" provided as the fourth argument to DragSource to be ' +\n        'a plain object when specified. ' +\n        'Instead, received %s. ' +\n        'Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html', collect);\n    return function decorateSource(DecoratedComponent) {\n        return decorateHandler_1.default({\n            containerDisplayName: 'DragSource',\n            createHandler: createSource,\n            registerHandler: registerSource_1.default,\n            createMonitor: createSourceMonitor_1.default,\n            createConnector: createSourceConnector_1.default,\n            DecoratedComponent: DecoratedComponent,\n            getType: getType,\n            collect: collect,\n            options: options,\n        });\n    };\n}\nexports.default = DragSource;\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./Disposable\"));\n__export(require(\"./SerialDisposable\"));\n__export(require(\"./CompositeDisposable\"));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar isFunction = require('lodash/isFunction');\nvar noop = require('lodash/noop');\n/**\n * Provides a set of static methods for creating Disposables.\n * @param {Function} action Action to run during the first call to dispose.\n * The action is guaranteed to be run at most once.\n */\nvar Disposable = /** @class */ (function () {\n    function Disposable(action) {\n        this.isDisposed = false;\n        this.action = isFunction(action) ? action : noop;\n    }\n    /**\n     * Validates whether the given object is a disposable\n     * @param {Object} Object to test whether it has a dispose method\n     * @returns {Boolean} true if a disposable object, else false.\n     */\n    Disposable.isDisposable = function (d) {\n        return d && isFunction(d.dispose);\n    };\n    Disposable._fixup = function (result) {\n        return Disposable.isDisposable(result) ? result : Disposable.empty;\n    };\n    /**\n     * Creates a disposable object that invokes the specified action when disposed.\n     * @param {Function} dispose Action to run during the first call to dispose.\n     * The action is guaranteed to be run at most once.\n     * @return {Disposable} The disposable object that runs the given action upon disposal.\n     */\n    Disposable.create = function (action) {\n        return new Disposable(action);\n    };\n    /** Performs the task of cleaning up resources. */\n    Disposable.prototype.dispose = function () {\n        if (!this.isDisposed) {\n            this.action();\n            this.isDisposed = true;\n        }\n    };\n    /**\n     * Gets the disposable that does nothing when disposed.\n     */\n    Disposable.empty = { dispose: noop };\n    return Disposable;\n}());\nexports.Disposable = Disposable;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Represents a disposable resource whose underlying disposable resource can\n * be replaced by another disposable resource, causing automatic disposal of\n * the previous underlying disposable resource.\n */\nvar SerialDisposable = /** @class */ (function () {\n    function SerialDisposable() {\n        this.isDisposed = false;\n    }\n    /**\n     * Gets the underlying disposable.\n     * @returns {Any} the underlying disposable.\n     */\n    SerialDisposable.prototype.getDisposable = function () {\n        return this.current;\n    };\n    SerialDisposable.prototype.setDisposable = function (value) {\n        var shouldDispose = this.isDisposed;\n        if (!shouldDispose) {\n            var old = this.current;\n            this.current = value;\n            if (old) {\n                old.dispose();\n            }\n        }\n        if (shouldDispose && value) {\n            value.dispose();\n        }\n    };\n    /** Performs the task of cleaning up resources. */\n    SerialDisposable.prototype.dispose = function () {\n        if (!this.isDisposed) {\n            this.isDisposed = true;\n            var old = this.current;\n            this.current = undefined;\n            if (old) {\n                old.dispose();\n            }\n        }\n    };\n    return SerialDisposable;\n}());\nexports.SerialDisposable = SerialDisposable;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Represents a group of disposable resources that are disposed together.\n * @constructor\n */\nvar CompositeDisposable = /** @class */ (function () {\n    function CompositeDisposable() {\n        var disposables = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            disposables[_i] = arguments[_i];\n        }\n        this.isDisposed = false;\n        this.disposables = disposables;\n    }\n    /**\n     * Adds a disposable to the CompositeDisposable or disposes the disposable if the CompositeDisposable is disposed.\n     * @param {Any} item Disposable to add.\n     */\n    CompositeDisposable.prototype.add = function (item) {\n        if (this.isDisposed) {\n            item.dispose();\n        }\n        else {\n            this.disposables.push(item);\n        }\n    };\n    /**\n     * Removes and disposes the first occurrence of a disposable from the CompositeDisposable.\n     * @param {Any} item Disposable to remove.\n     * @returns {Boolean} true if found; false otherwise.\n     */\n    CompositeDisposable.prototype.remove = function (item) {\n        var shouldDispose = false;\n        if (!this.isDisposed) {\n            var idx = this.disposables.indexOf(item);\n            if (idx !== -1) {\n                shouldDispose = true;\n                this.disposables.splice(idx, 1);\n                item.dispose();\n            }\n        }\n        return shouldDispose;\n    };\n    /**\n     *  Disposes all disposables in the group and removes them from the group but\n     *  does not dispose the CompositeDisposable.\n     */\n    CompositeDisposable.prototype.clear = function () {\n        if (!this.isDisposed) {\n            var len = this.disposables.length;\n            var currentDisposables = new Array(len);\n            for (var i = 0; i < len; i++) {\n                currentDisposables[i] = this.disposables[i];\n            }\n            this.disposables = [];\n            for (var i = 0; i < len; i++) {\n                currentDisposables[i].dispose();\n            }\n        }\n    };\n    /**\n     *  Disposes all disposables in the group and removes them from the group.\n     */\n    CompositeDisposable.prototype.dispose = function () {\n        if (!this.isDisposed) {\n            this.isDisposed = true;\n            var len = this.disposables.length;\n            var currentDisposables = new Array(len);\n            for (var i = 0; i < len; i++) {\n                currentDisposables[i] = this.disposables[i];\n            }\n            this.disposables = [];\n            for (var i = 0; i < len; i++) {\n                currentDisposables[i].dispose();\n            }\n        }\n    };\n    return CompositeDisposable;\n}());\nexports.CompositeDisposable = CompositeDisposable;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction registerSource(type, source, manager) {\n    var registry = manager.getRegistry();\n    var sourceId = registry.addSource(type, source);\n    function unregisterSource() {\n        registry.removeSource(sourceId);\n    }\n    return {\n        handlerId: sourceId,\n        unregister: unregisterSource,\n    };\n}\nexports.default = registerSource;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar react_1 = require(\"react\");\nvar invariant = require('invariant');\nvar isPlainObject = require('lodash/isPlainObject');\nvar ALLOWED_SPEC_METHODS = ['canDrag', 'beginDrag', 'isDragging', 'endDrag'];\nvar REQUIRED_SPEC_METHODS = ['beginDrag'];\nfunction createSourceFactory(spec) {\n    Object.keys(spec).forEach(function (key) {\n        invariant(ALLOWED_SPEC_METHODS.indexOf(key) > -1, 'Expected the drag source specification to only have ' +\n            'some of the following keys: %s. ' +\n            'Instead received a specification with an unexpected \"%s\" key. ' +\n            'Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html', ALLOWED_SPEC_METHODS.join(', '), key);\n        invariant(typeof spec[key] === 'function', 'Expected %s in the drag source specification to be a function. ' +\n            'Instead received a specification with %s: %s. ' +\n            'Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html', key, key, spec[key]);\n    });\n    REQUIRED_SPEC_METHODS.forEach(function (key) {\n        invariant(typeof spec[key] === 'function', 'Expected %s in the drag source specification to be a function. ' +\n            'Instead received a specification with %s: %s. ' +\n            'Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html', key, key, spec[key]);\n    });\n    var SourceImpl = /** @class */ (function () {\n        function SourceImpl(monitor) {\n            this.monitor = monitor;\n            this.props = null;\n            this.ref = react_1.createRef();\n            this.beginDrag = this.beginDrag.bind(this);\n        }\n        SourceImpl.prototype.receiveProps = function (props) {\n            this.props = props;\n        };\n        SourceImpl.prototype.canDrag = function () {\n            if (!this.props) {\n                return false;\n            }\n            if (!spec.canDrag) {\n                return true;\n            }\n            return spec.canDrag(this.props, this.monitor);\n        };\n        SourceImpl.prototype.isDragging = function (globalMonitor, sourceId) {\n            if (!this.props) {\n                return false;\n            }\n            if (!spec.isDragging) {\n                return sourceId === globalMonitor.getSourceId();\n            }\n            return spec.isDragging(this.props, this.monitor);\n        };\n        SourceImpl.prototype.beginDrag = function () {\n            if (!this.props) {\n                return;\n            }\n            var item = spec.beginDrag(this.props, this.monitor, this.ref.current);\n            if (process.env.NODE_ENV !== 'production') {\n                invariant(isPlainObject(item), 'beginDrag() must return a plain object that represents the dragged item. ' +\n                    'Instead received %s. ' +\n                    'Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html', item);\n            }\n            return item;\n        };\n        SourceImpl.prototype.endDrag = function () {\n            if (!this.props) {\n                return;\n            }\n            if (!spec.endDrag) {\n                return;\n            }\n            spec.endDrag(this.props, this.monitor, this.ref.current);\n        };\n        return SourceImpl;\n    }());\n    return function createSource(monitor) {\n        return new SourceImpl(monitor);\n    };\n}\nexports.default = createSourceFactory;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar invariant = require('invariant');\nvar isCallingCanDrag = false;\nvar isCallingIsDragging = false;\nvar SourceMonitor = /** @class */ (function () {\n    function SourceMonitor(manager) {\n        this.internalMonitor = manager.getMonitor();\n    }\n    SourceMonitor.prototype.receiveHandlerId = function (sourceId) {\n        this.sourceId = sourceId;\n    };\n    SourceMonitor.prototype.canDrag = function () {\n        invariant(!isCallingCanDrag, 'You may not call monitor.canDrag() inside your canDrag() implementation. ' +\n            'Read more: http://react-dnd.github.io/react-dnd/docs-drag-source-monitor.html');\n        try {\n            isCallingCanDrag = true;\n            return this.internalMonitor.canDragSource(this.sourceId);\n        }\n        finally {\n            isCallingCanDrag = false;\n        }\n    };\n    SourceMonitor.prototype.isDragging = function () {\n        invariant(!isCallingIsDragging, 'You may not call monitor.isDragging() inside your isDragging() implementation. ' +\n            'Read more: http://react-dnd.github.io/react-dnd/docs-drag-source-monitor.html');\n        try {\n            isCallingIsDragging = true;\n            return this.internalMonitor.isDraggingSource(this.sourceId);\n        }\n        finally {\n            isCallingIsDragging = false;\n        }\n    };\n    SourceMonitor.prototype.subscribeToStateChange = function (listener, options) {\n        return this.internalMonitor.subscribeToStateChange(listener, options);\n    };\n    SourceMonitor.prototype.isDraggingSource = function (sourceId) {\n        return this.internalMonitor.isDraggingSource(sourceId);\n    };\n    SourceMonitor.prototype.isOverTarget = function (targetId, options) {\n        return this.internalMonitor.isOverTarget(targetId, options);\n    };\n    SourceMonitor.prototype.getTargetIds = function () {\n        return this.internalMonitor.getTargetIds();\n    };\n    SourceMonitor.prototype.isSourcePublic = function () {\n        return this.internalMonitor.isSourcePublic();\n    };\n    SourceMonitor.prototype.getSourceId = function () {\n        return this.internalMonitor.getSourceId();\n    };\n    SourceMonitor.prototype.subscribeToOffsetChange = function (listener) {\n        return this.internalMonitor.subscribeToOffsetChange(listener);\n    };\n    SourceMonitor.prototype.canDragSource = function (sourceId) {\n        return this.internalMonitor.canDragSource(sourceId);\n    };\n    SourceMonitor.prototype.canDropOnTarget = function (targetId) {\n        return this.internalMonitor.canDropOnTarget(targetId);\n    };\n    SourceMonitor.prototype.getItemType = function () {\n        return this.internalMonitor.getItemType();\n    };\n    SourceMonitor.prototype.getItem = function () {\n        return this.internalMonitor.getItem();\n    };\n    SourceMonitor.prototype.getDropResult = function () {\n        return this.internalMonitor.getDropResult();\n    };\n    SourceMonitor.prototype.didDrop = function () {\n        return this.internalMonitor.didDrop();\n    };\n    SourceMonitor.prototype.getInitialClientOffset = function () {\n        return this.internalMonitor.getInitialClientOffset();\n    };\n    SourceMonitor.prototype.getInitialSourceClientOffset = function () {\n        return this.internalMonitor.getInitialSourceClientOffset();\n    };\n    SourceMonitor.prototype.getSourceClientOffset = function () {\n        return this.internalMonitor.getSourceClientOffset();\n    };\n    SourceMonitor.prototype.getClientOffset = function () {\n        return this.internalMonitor.getClientOffset();\n    };\n    SourceMonitor.prototype.getDifferenceFromInitialOffset = function () {\n        return this.internalMonitor.getDifferenceFromInitialOffset();\n    };\n    return SourceMonitor;\n}());\nfunction createSourceMonitor(manager) {\n    return new SourceMonitor(manager);\n}\nexports.default = createSourceMonitor;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar wrapConnectorHooks_1 = require(\"./wrapConnectorHooks\");\nvar shallowEqual = require('shallowequal');\nfunction createSourceConnector(backend) {\n    var currentHandlerId;\n    var currentDragSourceNode;\n    var currentDragSourceOptions;\n    var disconnectCurrentDragSource;\n    var currentDragPreviewNode;\n    var currentDragPreviewOptions;\n    var disconnectCurrentDragPreview;\n    function reconnectDragSource() {\n        if (disconnectCurrentDragSource) {\n            disconnectCurrentDragSource();\n            disconnectCurrentDragSource = undefined;\n        }\n        if (currentHandlerId && currentDragSourceNode) {\n            disconnectCurrentDragSource = backend.connectDragSource(currentHandlerId, currentDragSourceNode, currentDragSourceOptions);\n        }\n    }\n    function reconnectDragPreview() {\n        if (disconnectCurrentDragPreview) {\n            disconnectCurrentDragPreview();\n            disconnectCurrentDragPreview = undefined;\n        }\n        if (currentHandlerId && currentDragPreviewNode) {\n            disconnectCurrentDragPreview = backend.connectDragPreview(currentHandlerId, currentDragPreviewNode, currentDragPreviewOptions);\n        }\n    }\n    function receiveHandlerId(handlerId) {\n        if (handlerId === currentHandlerId) {\n            return;\n        }\n        currentHandlerId = handlerId;\n        reconnectDragSource();\n        reconnectDragPreview();\n    }\n    var hooks = wrapConnectorHooks_1.default({\n        dragSource: function connectDragSource(node, options) {\n            if (node === currentDragSourceNode &&\n                shallowEqual(options, currentDragSourceOptions)) {\n                return;\n            }\n            currentDragSourceNode = node;\n            currentDragSourceOptions = options;\n            reconnectDragSource();\n        },\n        dragPreview: function connectDragPreview(node, options) {\n            if (node === currentDragPreviewNode &&\n                shallowEqual(options, currentDragPreviewOptions)) {\n                return;\n            }\n            currentDragPreviewNode = node;\n            currentDragPreviewOptions = options;\n            reconnectDragPreview();\n        },\n    });\n    return {\n        receiveHandlerId: receiveHandlerId,\n        hooks: hooks,\n    };\n}\nexports.default = createSourceConnector;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar react_1 = require(\"react\");\nvar invariant = require('invariant');\nfunction cloneWithRef(element, newRef) {\n    var previousRef = element.ref;\n    invariant(typeof previousRef !== 'string', 'Cannot connect React DnD to an element with an existing string ref. ' +\n        'Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. ' +\n        'Read more: https://facebook.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute');\n    if (!previousRef) {\n        // When there is no ref on the element, use the new ref directly\n        return react_1.cloneElement(element, {\n            ref: newRef,\n        });\n    }\n    return react_1.cloneElement(element, {\n        ref: function (node) {\n            newRef(node);\n            if (previousRef) {\n                previousRef(node);\n            }\n        },\n    });\n}\nexports.default = cloneWithRef;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar checkDecoratorArguments_1 = require(\"./utils/checkDecoratorArguments\");\nvar decorateHandler_1 = require(\"./decorateHandler\");\nvar registerTarget_1 = require(\"./registerTarget\");\nvar createTargetFactory_1 = require(\"./createTargetFactory\");\nvar createTargetMonitor_1 = require(\"./createTargetMonitor\");\nvar createTargetConnector_1 = require(\"./createTargetConnector\");\nvar isValidType_1 = require(\"./utils/isValidType\");\nvar invariant = require('invariant');\nvar isPlainObject = require('lodash/isPlainObject');\nfunction DropTarget(type, spec, collect, options) {\n    if (options === void 0) { options = {}; }\n    checkDecoratorArguments_1.default('DropTarget', 'type, spec, collect[, options]', type, spec, collect, options);\n    var getType = type;\n    if (typeof type !== 'function') {\n        invariant(isValidType_1.default(type, true), 'Expected \"type\" provided as the first argument to DropTarget to be ' +\n            'a string, an array of strings, or a function that returns either given ' +\n            'the current props. Instead, received %s. ' +\n            'Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html', type);\n        getType = function () { return type; };\n    }\n    invariant(isPlainObject(spec), 'Expected \"spec\" provided as the second argument to DropTarget to be ' +\n        'a plain object. Instead, received %s. ' +\n        'Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html', spec);\n    var createTarget = createTargetFactory_1.default(spec);\n    invariant(typeof collect === 'function', 'Expected \"collect\" provided as the third argument to DropTarget to be ' +\n        'a function that returns a plain object of props to inject. ' +\n        'Instead, received %s. ' +\n        'Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html', collect);\n    invariant(isPlainObject(options), 'Expected \"options\" provided as the fourth argument to DropTarget to be ' +\n        'a plain object when specified. ' +\n        'Instead, received %s. ' +\n        'Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html', collect);\n    return function decorateTarget(DecoratedComponent) {\n        return decorateHandler_1.default({\n            containerDisplayName: 'DropTarget',\n            createHandler: createTarget,\n            registerHandler: registerTarget_1.default,\n            createMonitor: createTargetMonitor_1.default,\n            createConnector: createTargetConnector_1.default,\n            DecoratedComponent: DecoratedComponent,\n            getType: getType,\n            collect: collect,\n            options: options,\n        });\n    };\n}\nexports.default = DropTarget;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction registerTarget(type, target, manager) {\n    var registry = manager.getRegistry();\n    var targetId = registry.addTarget(type, target);\n    function unregisterTarget() {\n        registry.removeTarget(targetId);\n    }\n    return {\n        handlerId: targetId,\n        unregister: unregisterTarget,\n    };\n}\nexports.default = registerTarget;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar react_1 = require(\"react\");\nvar invariant = require('invariant');\nvar isPlainObject = require('lodash/isPlainObject');\nvar ALLOWED_SPEC_METHODS = ['canDrop', 'hover', 'drop'];\nfunction createTargetFactory(spec) {\n    Object.keys(spec).forEach(function (key) {\n        invariant(ALLOWED_SPEC_METHODS.indexOf(key) > -1, 'Expected the drop target specification to only have ' +\n            'some of the following keys: %s. ' +\n            'Instead received a specification with an unexpected \"%s\" key. ' +\n            'Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html', ALLOWED_SPEC_METHODS.join(', '), key);\n        invariant(typeof spec[key] === 'function', 'Expected %s in the drop target specification to be a function. ' +\n            'Instead received a specification with %s: %s. ' +\n            'Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html', key, key, spec[key]);\n    });\n    var TargetImpl = /** @class */ (function () {\n        function TargetImpl(monitor) {\n            this.monitor = monitor;\n            this.props = null;\n            this.ref = react_1.createRef();\n        }\n        TargetImpl.prototype.receiveProps = function (props) {\n            this.props = props;\n        };\n        TargetImpl.prototype.receiveMonitor = function (monitor) {\n            this.monitor = monitor;\n        };\n        TargetImpl.prototype.canDrop = function () {\n            if (!spec.canDrop) {\n                return true;\n            }\n            return spec.canDrop(this.props, this.monitor);\n        };\n        TargetImpl.prototype.hover = function () {\n            if (!spec.hover) {\n                return;\n            }\n            spec.hover(this.props, this.monitor, this.ref.current);\n        };\n        TargetImpl.prototype.drop = function () {\n            if (!spec.drop) {\n                return undefined;\n            }\n            var dropResult = spec.drop(this.props, this.monitor, this.ref.current);\n            if (process.env.NODE_ENV !== 'production') {\n                invariant(typeof dropResult === 'undefined' || isPlainObject(dropResult), 'drop() must either return undefined, or an object that represents the drop result. ' +\n                    'Instead received %s. ' +\n                    'Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html', dropResult);\n            }\n            return dropResult;\n        };\n        return TargetImpl;\n    }());\n    return function createTarget(monitor) {\n        return new TargetImpl(monitor);\n    };\n}\nexports.default = createTargetFactory;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar invariant = require('invariant');\nvar isCallingCanDrop = false;\nvar TargetMonitor = /** @class */ (function () {\n    function TargetMonitor(manager) {\n        this.internalMonitor = manager.getMonitor();\n    }\n    TargetMonitor.prototype.receiveHandlerId = function (targetId) {\n        this.targetId = targetId;\n    };\n    TargetMonitor.prototype.canDrop = function () {\n        invariant(!isCallingCanDrop, 'You may not call monitor.canDrop() inside your canDrop() implementation. ' +\n            'Read more: http://react-dnd.github.io/react-dnd/docs-drop-target-monitor.html');\n        try {\n            isCallingCanDrop = true;\n            return this.internalMonitor.canDropOnTarget(this.targetId);\n        }\n        finally {\n            isCallingCanDrop = false;\n        }\n    };\n    TargetMonitor.prototype.isOver = function (options) {\n        return this.internalMonitor.isOverTarget(this.targetId, options);\n    };\n    TargetMonitor.prototype.getItemType = function () {\n        return this.internalMonitor.getItemType();\n    };\n    TargetMonitor.prototype.getItem = function () {\n        return this.internalMonitor.getItem();\n    };\n    TargetMonitor.prototype.getDropResult = function () {\n        return this.internalMonitor.getDropResult();\n    };\n    TargetMonitor.prototype.didDrop = function () {\n        return this.internalMonitor.didDrop();\n    };\n    TargetMonitor.prototype.getInitialClientOffset = function () {\n        return this.internalMonitor.getInitialClientOffset();\n    };\n    TargetMonitor.prototype.getInitialSourceClientOffset = function () {\n        return this.internalMonitor.getInitialSourceClientOffset();\n    };\n    TargetMonitor.prototype.getSourceClientOffset = function () {\n        return this.internalMonitor.getSourceClientOffset();\n    };\n    TargetMonitor.prototype.getClientOffset = function () {\n        return this.internalMonitor.getClientOffset();\n    };\n    TargetMonitor.prototype.getDifferenceFromInitialOffset = function () {\n        return this.internalMonitor.getDifferenceFromInitialOffset();\n    };\n    return TargetMonitor;\n}());\nexports.TargetMonitor = TargetMonitor;\nfunction createTargetMonitor(manager) {\n    return new TargetMonitor(manager);\n}\nexports.default = createTargetMonitor;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar wrapConnectorHooks_1 = require(\"./wrapConnectorHooks\");\nvar shallowEqual = require('shallowequal');\nfunction createTargetConnector(backend) {\n    var currentHandlerId;\n    var currentDropTargetNode;\n    var currentDropTargetOptions;\n    var disconnectCurrentDropTarget;\n    function reconnectDropTarget() {\n        if (disconnectCurrentDropTarget) {\n            disconnectCurrentDropTarget();\n            disconnectCurrentDropTarget = undefined;\n        }\n        if (currentHandlerId && currentDropTargetNode) {\n            disconnectCurrentDropTarget = backend.connectDropTarget(currentHandlerId, currentDropTargetNode, currentDropTargetOptions);\n        }\n    }\n    function receiveHandlerId(handlerId) {\n        if (handlerId === currentHandlerId) {\n            return;\n        }\n        currentHandlerId = handlerId;\n        reconnectDropTarget();\n    }\n    var hooks = wrapConnectorHooks_1.default({\n        dropTarget: function connectDropTarget(node, options) {\n            if (node === currentDropTargetNode &&\n                shallowEqual(options, currentDropTargetOptions)) {\n                return;\n            }\n            currentDropTargetNode = node;\n            currentDropTargetOptions = options;\n            reconnectDropTarget();\n        },\n    });\n    return {\n        receiveHandlerId: receiveHandlerId,\n        hooks: hooks,\n    };\n}\nexports.default = createTargetConnector;\n"],"sourceRoot":""}