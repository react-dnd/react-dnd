<!doctype html><html data-reactroot=""><head><meta charSet="utf-8"/><title>React DnD</title><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"/><link rel="stylesheet" type="text/css" href="main-0eaaea3ccebae9460dca.css"/><base target="_blank"/></head><body><div><header class="Header"><div class="NavBar"><div class="NavBar-container"><div class="NavBar-logo"><a href="./" target="_self" class="NavBar-logoTitle">React <i>DnD</i></a><p class="NavBar-logoDescription">Drag and Drop for React</p></div><div class="NavBar-item"><a class="NavBar-link" href="docs-overview.html" target="_self">Docs</a><a class="NavBar-link" href="examples-chessboard-tutorial-app.html" target="_self">Examples</a><a class="NavBar-link" href="https://github.com/react-dnd/react-dnd">GitHub</a></div></div></div></header><div class="PageBody PageBody--hasSidebar"><div class="PageBody-container"><div class="SideBar"><div class="SideBar-content"><div class="SideBar-group"><h4 class="SideBar-groupTitle">Quick Start</h4><a href="docs-overview.html" target="_self" class="SideBar-item"><span class="SideBar-itemText">Overview</span><span class="arrowBullet"></span></a><a href="docs-tutorial.html" target="_self" class="SideBar-item"><span class="SideBar-itemText">Tutorial</span><span class="arrowBullet"></span></a><a href="docs-testing.html" target="_self" class="SideBar-item"><span class="SideBar-itemText">Testing</span><span class="arrowBullet"></span></a><a href="docs-faq.html" target="_self" class="SideBar-item"><span class="SideBar-itemText">FAQ</span><span class="arrowBullet"></span></a><a href="docs-troubleshooting.html" target="_self" class="SideBar-item"><span class="SideBar-itemText">Troubleshooting</span><span class="arrowBullet"></span></a></div><div class="SideBar-group"><h4 class="SideBar-groupTitle">Top-Level API</h4><a href="docs-drag-source.html" target="_self" class="SideBar-item"><span class="SideBar-itemText">DragSource</span><span class="arrowBullet"></span></a><a href="docs-drop-target.html" target="_self" class="SideBar-item"><span class="SideBar-itemText">DropTarget</span><span class="arrowBullet"></span></a><a href="docs-drag-layer.html" target="_self" class="SideBar-item"><span class="SideBar-itemText">DragLayer</span><span class="arrowBullet"></span></a><a href="docs-drag-drop-context.html" target="_self" class="SideBar-item"><span class="SideBar-itemText">DragDropContext</span><span class="arrowBullet"></span></a><a href="docs-drag-drop-context-provider.html" target="_self" class="SideBar-item"><span class="SideBar-itemText">DragDropContextProvider</span><span class="arrowBullet"></span></a></div><div class="SideBar-group"><h4 class="SideBar-groupTitle">Connecting to DOM</h4><a href="docs-drag-source-connector.html" target="_self" class="SideBar-item SideBar-item--selected"><span class="SideBar-itemText">DragSourceConnector</span><span class="arrowBullet"></span></a><a href="docs-drop-target-connector.html" target="_self" class="SideBar-item"><span class="SideBar-itemText">DropTargetConnector</span><span class="arrowBullet"></span></a></div><div class="SideBar-group"><h4 class="SideBar-groupTitle">Monitoring State</h4><a href="docs-drag-source-monitor.html" target="_self" class="SideBar-item"><span class="SideBar-itemText">DragSourceMonitor</span><span class="arrowBullet"></span></a><a href="docs-drop-target-monitor.html" target="_self" class="SideBar-item"><span class="SideBar-itemText">DropTargetMonitor</span><span class="arrowBullet"></span></a><a href="docs-drag-layer-monitor.html" target="_self" class="SideBar-item"><span class="SideBar-itemText">DragLayerMonitor</span><span class="arrowBullet"></span></a></div><div class="SideBar-group"><h4 class="SideBar-groupTitle">Backends</h4><a href="docs-html5-backend.html" target="_self" class="SideBar-item"><span class="SideBar-itemText">HTML5</span><span class="arrowBullet"></span></a><a href="docs-test-backend.html" target="_self" class="SideBar-item"><span class="SideBar-itemText">Test</span><span class="arrowBullet"></span></a></div></div></div><div style="width:100%"><div style="width:100%"><p><em>New to React DnD? <a href="docs-overview.html">Read the overview</a> before jumping into the docs.</em></p>
<h1>DragSourceConnector<a id="dragsourceconnector">&nbsp;</a></h1><p><code>DragSourceConnector</code> is an object passed to a collecting function of the <a href="docs-drag-source.html"><code>DragSource</code></a>. Its methods return functions that let you assign the roles to your component&#39;s DOM nodes.</p>
<h3>Methods<a id="methods">&nbsp;</a></h3><p>Call the <code>DragSourceConnector</code> methods inside your <em>collecting function</em>. This will pass the returned functions to your component as props. You can then use them inside <code>render</code> or <code>componentDidMount</code> to indicate the DOM node roles. Internally they work by attaching a <a href="https://facebook.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute">callback ref</a> to the React elements you give them. These callbacks connect the DOM nodes of your component to the chosen DnD backend.</p>
<ul>
<li><p><strong><code>dragSource() =&gt; (elementOrNode, options?)</code></strong>: Returns a function that must be used inside the component to assign the drag source role to a node. By returning <code>{ connectDragSource: connect.dragSource() }</code> from your collecting function, you can mark any React element as the draggable node. To do that, replace any <code>element</code> with <code>this.props.connectDragSource(element)</code> inside the <code>render</code> function.</p>
</li>
<li><p><strong><code>dragPreview() =&gt; (elementOrNode, options?)</code></strong>: Optional. Returns a function that may be used inside the component to assign the drag preview role to a node. By returning <code>{ connectDragPreview: connect.dragPreview() }</code> from your collecting function, you can mark any React element as the drag preview node. To do that, replace any <code>element</code> with <code>this.props.connectDragPreview(element)</code> inside the <code>render</code> function. The drag preview is the node that will be screenshotted by the <a href="docs-html5-backend.html">HTML5 backend</a> when the drag begins. For example, if you want to make something draggable by a small custom handle, you can mark this handle as the <code>dragSource()</code>, but also mark an outer, larger component node as the <code>dragPreview()</code>. Thus the larger drag preview appears on the screenshot, but only the smaller drag source is actually draggable. Another possible customization is passing an <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLImageElement/Image"><code>Image</code></a> instance to <code>dragPreview</code> from a lifecycle method like <code>componentDidMount</code>. This lets you use the actual images for drag previews. (Note that IE does not support this customization). See the example code below for the different usage examples.</p>
</li>
</ul>
<h3>Method Options<a id="method-options">&nbsp;</a></h3><p>The functions returned by the connector methods also accept options. They need to be passed <em>inside the component</em>, for example, <code>this.props.connectDragSource(&lt;div&gt;...&lt;/div&gt;, { dropEffect: &#39;copy&#39; })</code>. The options described below are supported by the <a href="./docs-html5-backend.html">HTML5 backend</a>, but may not be supported by the third-party or custom backends.</p>
<h4><strong>Options for <code>dragSource</code></strong><a id="-strong-options-for-code-dragsource-code-strong-">&nbsp;</a></h4><ul>
<li><code>dropEffect</code>: Optional. A string. By default, <code>&#39;move&#39;</code>. In the browsers that support this feature, specifying <code>&#39;copy&#39;</code> shows a special “copying” cursor, while <code>&#39;move&#39;</code> corresponds to the “move” cursor. You might want to use this option to provide a hint to the user about whether an action is destructive.</li>
</ul>
<h4><strong>Options for <code>dragPreview</code></strong><a id="-strong-options-for-code-dragpreview-code-strong-">&nbsp;</a></h4><ul>
<li><p><code>captureDraggingState</code>: Optional. A boolean. By default, <code>false</code>. If <code>true</code>, the component will learn that it is being dragged immediately as the drag starts instead of the next tick. This means that the screenshotting would occur with <code>monitor.isDragging()</code> already being <code>true</code>, and if you apply any styling like a decreased opacity to the dragged element, this styling will also be reflected on the screenshot. This is rarely desirable, so <code>false</code> is a sensible default. However, you might want to set it to <code>true</code> in rare cases, such as if you want to make the custom drag layers work in IE and you need to hide the original element without resorting to an empty drag preview which IE doesn&#39;t support.</p>
</li>
<li><p><code>anchorX</code>: Optional. A number between <code>0</code> and <code>1</code>. By default, <code>0.5</code>. Specifies how the offset relative to the drag source node is translated into the horizontal offset of the drag preview when their sizes don&#39;t match. <code>0</code> means “dock the preview to the left”, <code>0.5</code> means “interpolate linearly” and <code>1</code> means “dock the preview to the right”.</p>
</li>
<li><p><code>anchorY</code>: Optional. A number between <code>0</code> and <code>1</code>. By default, <code>0.5</code>. Specifies how the offset relative to the drag source node is translated into the vertical offset of the drag preview when their sizes don&#39;t match. <code>0</code> means “dock the preview to the top, <code>0.5</code> means “interpolate linearly” and <code>1</code> means “dock the preview to the bottom.</p>
</li>
<li><p><code>offsetX</code>: Optional. A number or null if not needed. By default, null. Specifies the vertical offset between the cursor and the drag preview element. If offsetX has a value, anchorX won&#39;t be used.</p>
</li>
<li><p><code>offsetY</code>: Optional. A number or null if not needed. By default, null. Specifies the vertical offset between the cursor and the drag preview element. If offsetY has a value, anchorY won&#39;t be used.</p>
</li>
</ul>
<h3>Example<a id="example">&nbsp;</a></h3><p>Check out <a href="docs-tutorial.html">the tutorial</a> for more real examples!</p>
</div><div class="CodeBlock"><ul class="CodeBlock-tabs"><li class="CodeBlock-tab CodeBlock-activeTab"><a>ES7</a></li><li class="CodeBlock-tab "><a>ES6</a></li><li class="CodeBlock-tab "><a>ES5</a></li></ul><div class="CodeBlock-content"><div style="width:100%"><div style="width:100%">
<code class="codeBlock"><span class="token keyword" >import</span> <span class="token qualifier" >React</span> from <span class="token string" >'react'</span><span class="token punctuation" >;</span>
<span class="token keyword" >import</span> <span class="token punctuation" >{</span> <span class="token qualifier" >Drag</span><span class="token qualifier" >Source</span> <span class="token punctuation" >}</span> from <span class="token string" >'react-dnd'</span><span class="token punctuation" >;</span>

<span class="token comment" spellcheck="true">/* ... */</span>

<span class="token block-keyword" >function</span> <span class="token function" >collect<span class="token punctuation" >(</span></span>connect<span class="token punctuation" >,</span> monitor<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
  <span class="token keyword" >return</span> <span class="token punctuation" >{</span>
    connectDragSource<span class="token punctuation" >:</span> connect<span class="token punctuation" >.</span><span class="token function" >dragSource<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span><span class="token punctuation" >,</span>
    connectDragPreview<span class="token punctuation" >:</span> connect<span class="token punctuation" >.</span><span class="token function" >dragPreview<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span>
  <span class="token punctuation" >}</span><span class="token punctuation" >;</span>
<span class="token punctuation" >}</span>

@<span class="token function" >DragSource<span class="token punctuation" >(</span></span><span class="token comment" spellcheck="true">/* ... */</span><span class="token punctuation" >)</span>
<span class="token keyword" >class</span> <span class="token class-name" >ComponentWithCopyEffect</span> <span class="token punctuation" >{</span>
  <span class="token function" >render<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
    <span class="token keyword" >const</span> <span class="token punctuation" >{</span> connectDragSource <span class="token punctuation" >}</span> <span class="token operator" >=</span> <span class="token var" >this</span><span class="token punctuation" >.</span>props<span class="token punctuation" >;</span>

    <span class="token keyword" >return</span> <span class="token function" >connectDragSource<span class="token punctuation" >(</span></span>
      <span class="token operator" >&lt;</span>div<span class="token operator" >></span>
        <span class="token qualifier" >This</span> div shows a plus icon <span class="token keyword" >in</span> some browsers<span class="token punctuation" >.</span>
      <span class="token operator" >&lt;</span><span class="token operator" >/</span>div<span class="token operator" >></span><span class="token punctuation" >,</span>
      <span class="token punctuation" >{</span> dropEffect<span class="token punctuation" >:</span> <span class="token string" >'copy'</span> <span class="token punctuation" >}</span>
    <span class="token punctuation" >)</span><span class="token punctuation" >;</span>
  <span class="token punctuation" >}</span>
<span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>

@<span class="token function" >DragSource<span class="token punctuation" >(</span></span><span class="token comment" spellcheck="true">/* ... */</span><span class="token punctuation" >)</span>
<span class="token keyword" >class</span> <span class="token class-name" >ComponentWithHandle</span> <span class="token punctuation" >{</span>
  <span class="token function" >render<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
    <span class="token keyword" >const</span> <span class="token punctuation" >{</span> connectDragSource<span class="token punctuation" >,</span> connectDragPreview <span class="token punctuation" >}</span> <span class="token operator" >=</span> <span class="token var" >this</span><span class="token punctuation" >.</span>props<span class="token punctuation" >;</span>

    <span class="token keyword" >return</span> <span class="token function" >connectDragPreview<span class="token punctuation" >(</span></span>
      <span class="token operator" >&lt;</span>div<span class="token operator" >></span>
        <span class="token qualifier" >This</span> div is draggable by a handle<span class="token operator" >!</span>
        <span class="token punctuation" >{</span><span class="token function" >connectDragSource<span class="token punctuation" >(</span></span>
          <span class="token operator" >&lt;</span>div<span class="token operator" >></span>drag me<span class="token operator" >&lt;</span><span class="token operator" >/</span>div<span class="token operator" >></span>
        <span class="token punctuation" >)</span><span class="token punctuation" >}</span>
      <span class="token operator" >&lt;</span><span class="token operator" >/</span>div<span class="token operator" >></span>
    <span class="token punctuation" >)</span><span class="token punctuation" >;</span>
  <span class="token punctuation" >}</span>
<span class="token punctuation" >}</span>

@<span class="token function" >DragSource<span class="token punctuation" >(</span></span><span class="token comment" spellcheck="true">/* ... */</span><span class="token punctuation" >)</span>
<span class="token keyword" >class</span> <span class="token class-name" >ComponentWithImagePreview</span> <span class="token punctuation" >{</span>
  <span class="token function" >componentDidMount<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
    <span class="token keyword" >const</span> <span class="token punctuation" >{</span> connectDragPreview <span class="token punctuation" >}</span> <span class="token operator" >=</span> <span class="token var" >this</span><span class="token punctuation" >.</span>props<span class="token punctuation" >;</span>

    <span class="token keyword" >const</span> img <span class="token operator" >=</span> <span class="token keyword" >new</span> <span class="token class-name" >Image</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
    img<span class="token punctuation" >.</span>src <span class="token operator" >=</span> <span class="token string" >'http://mysite.com/image.jpg'</span><span class="token punctuation" >;</span>
    img<span class="token punctuation" >.</span>onload <span class="token operator" >=</span> <span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token operator" >=</span><span class="token operator" >></span> <span class="token function" >connectDragPreview<span class="token punctuation" >(</span></span>img<span class="token punctuation" >)</span><span class="token punctuation" >;</span>
  <span class="token punctuation" >}</span>

  <span class="token function" >render<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
    <span class="token keyword" >const</span> <span class="token punctuation" >{</span> connectDragSource <span class="token punctuation" >}</span> <span class="token operator" >=</span> <span class="token var" >this</span><span class="token punctuation" >.</span>props<span class="token punctuation" >;</span>

    <span class="token keyword" >return</span> <span class="token function" >connectDragSource<span class="token punctuation" >(</span></span>
      <span class="token operator" >&lt;</span>div<span class="token operator" >></span>
        <span class="token qualifier" >This</span> div shows an image when dragged<span class="token operator" >!</span>
      <span class="token operator" >&lt;</span><span class="token operator" >/</span>div<span class="token operator" >></span>
    <span class="token punctuation" >)</span><span class="token punctuation" >;</span>
  <span class="token punctuation" >}</span>
<span class="token punctuation" >}</span></code></div></div></div></div><div style="width:100%">
</div></div></div></div></div><script>window.INITIAL_PROPS = {"location":"docs-drag-source-connector.html","devMode":false,"files":{"main.css":"main-0eaaea3ccebae9460dca.css","main.js":"main-0eaaea3ccebae9460dca.js"}};
</script><script src="main-0eaaea3ccebae9460dca.js"></script></body></html>